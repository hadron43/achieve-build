(this["webpackJsonpachievements-portal"]=this["webpackJsonpachievements-portal"]||[]).push([[0],{231:function(e,t,n){},266:function(e,t,n){},391:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(44),i=n.n(s),r=(n(231),n(232),n(233),n(16)),o=n(8),l=n(15),d=n(82),j=n(196),h=n(197),u=n.n(h),b=n(11),m="UPDATES_LOADING",p="UPDATES_FAILED",O="ADD_UPDATES",x="ADD_BANNERS",g="LOGGING_IN",f="LOGIN_FAILED",v="LOAD_KEY",N="LOAD_PROFILE",y="LOAD_PROFILE_ACHIEVEMENTS",k="LOAD_PROFILE_PROJECTS",w="CLEAR_USER_DATA",S="LOAD_PROFESSORS_LIST",A="PROFESSORS_LIST_LOADING",E="LOAD_STUDENTS_LIST",L="STUDENTS_LIST_LOADING",T="LOAD_INSTITUTES_LIST",P="INSTITUTES_LIST_LOADING",C="LOAD_TAGS_LIST",I="TAGS_LIST_LOADING",D="ADD_TAG_LIST",z="ADD_ACHIEVEMENT_POSTING",M="ADD_ACHIEVEMENT_POSTING_ERROR",F="ADD_ACHIEVEMENT_POSTING_SUCCESS",_="ADD_PROJECT_POSTING",R="ADD_PROJECT_POSTING_ERROR",G="ADD_PROJECT_POSTING_SUCCESS",B="ADD_PENDING_ACHIEVEMENTS",U="PENDING_ACHIEVEMENTS_LOADING",V="PENDING_ACHIEVEMENTS_LOADING_ERROR",J="ADD_PENDING_PROJECTS",H="PENDING_PROJECTS_LOADING",q="PENDING_PROJECTS_LOADING_ERROR",W="PROJECT_APPROVING",Y="PROJECT_REJECTING",Q="PROJECT_DELETING",K="PROJECT_APPROVED",X="PROJECT_REJECTED",Z="PROJECT_DELETED",$="PROJECT_ERROR",ee="ACHIEVEMENT_APPROVING",te="ACHIEVEMENT_REJECTING",ne="ACHIEVEMENT_DELETING",ae="ACHIEVEMENT_APPROVED",ce="ACHIEVEMENT_REJECTED",se="ACHIEVEMENT_ERROR",ie="ACHIEVEMENT_DELETED",re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,errMess:null,updates:{},banners:void 0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(b.a)(Object(b.a)({},e),{},{isLoading:!1,errMess:null,updates:t.payload});case m:return Object(b.a)(Object(b.a)({},e),{},{isLoading:t.payload,errMess:null});case p:return Object(b.a)(Object(b.a)({},e),{},{isLoading:!1,errMess:t.payload,updates:{}});case x:return Object(b.a)(Object(b.a)({},e),{},{banners:t.payload});default:return e}},oe=n(27),le={authorized:!!sessionStorage.getItem("key"),loggingIn:!1,error:"",token:sessionStorage.getItem("key"),admin:!1,profileLoaded:!1,profile:{},achievements:null,projects:null},de=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,n=arguments.length>1?arguments[1]:void 0,a=Object(b.a)({},t);switch(n.type){case v:return sessionStorage.setItem("key",n.payload),Object(b.a)(Object(b.a)({},t),{},{token:n.payload,authorized:!0});case N:return Object(b.a)(Object(b.a)({},t),{},{profileLoaded:!0,profile:n.payload});case y:return Object(b.a)(Object(b.a)({},t),{},{achievements:n.payload});case k:return Object(b.a)(Object(b.a)({},t),{},{projects:n.payload});case w:return sessionStorage.clear(),le.authorized=!1,le.token=void 0,le;case f:return Object(b.a)(Object(b.a)({},t),{},{error:n.payload});case g:return Object(b.a)(Object(b.a)({},t),{},{loggingIn:n.payload});case ne:return t.achievements?(a.achievements=Object(oe.a)(a.achievements),(e=a.achievements.findIndex((function(e){return e.id===n.payload})))<0||(a.achievements[e].deleting=!0,a.achievements[e].error=""),a):t;case ie:return t.achievements?(a.achievements=Object(oe.a)(a.achievements),(e=a.achievements.findIndex((function(e){return e.id===n.payload})))<0||(a.achievements[e].deleting=!1,a.achievements[e].deleted=!0,a.achievements[e].error=""),a):t;case Q:return t.projects?(a.projects=Object(oe.a)(a.projects),(e=a.projects.findIndex((function(e){return e.id===n.payload})))<0||(console.log(a),a.projects[e].deleting=!0,a.projects[e].error=""),a):t;case Z:return t.projects?(a.projects=Object(oe.a)(a.projects),(e=a.achievements.findIndex((function(e){return e.id===n.payload})))<0||(a.projects[e].deleting=!1,a.projects[e].deleted=!0,a.projects[e].error=""),a):t;default:return t}},je={professorsList:null,professorsLoading:!1,studentsList:null,studentsLoading:!1,institutesList:null,institutesLoading:!1,tagsList:null,tagsLoading:!1,awardCategory:[{id:0,title:"Not Applicable"},{id:1,title:"Intra College"},{id:2,title:"Inter College"},{id:3,title:"District Level"},{id:4,title:"State Level"},{id:5,title:"National Level"},{id:6,title:"International Level"}],addAchievementPosting:!1,addAchievementPostingError:!1,addAchievementPostingMessage:"",addProjectPosting:!1,addProjectPostingError:!1,addProjectPostingMessages:""},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(b.a)(Object(b.a)({},e),{},{professorsLoading:t.payload});case S:return Object(b.a)(Object(b.a)({},e),{},{professorsList:t.payload,professorsLoading:!1});case L:return Object(b.a)(Object(b.a)({},e),{},{studentsLoading:t.payload});case E:return Object(b.a)(Object(b.a)({},e),{},{studentsList:t.payload,studentsLoading:!1});case P:return Object(b.a)(Object(b.a)({},e),{},{institutesLoading:t.payload});case T:return Object(b.a)(Object(b.a)({},e),{},{institutesList:t.payload,institutesLoading:!1});case I:return Object(b.a)(Object(b.a)({},e),{},{tagsLoading:t.payload});case C:return Object(b.a)(Object(b.a)({},e),{},{tagsList:t.payload,tagsLoading:!1});case D:return Object(b.a)(Object(b.a)({},e),{},{tagsList:[].concat(Object(oe.a)(e.tagsList),[t.payload])});case z:return Object(b.a)(Object(b.a)({},e),{},{addAchievementPosting:t.payload});case M:return Object(b.a)(Object(b.a)({},e),{},{addAchievementPostingError:!0,addAchievementPostingMessage:t.payload,addAchievementPosting:!1});case F:return Object(b.a)(Object(b.a)({},e),{},{addAchievementPostingError:!1,addAchievementPostingMessage:t.payload,addAchievementPosting:!1});case _:return Object(b.a)(Object(b.a)({},e),{},{addProjectPosting:t.payload});case R:return Object(b.a)(Object(b.a)({},e),{},{addProjectPostingError:!0,addProjectPostingMessage:t.payload,addProjectPosting:!1});case G:return Object(b.a)(Object(b.a)({},e),{},{addProjectPostingError:!1,addProjectPostingMessage:t.payload,addProjectPosting:!1});default:return e}},ue={pendingProjects:null,pendingProjectsLoading:!1,pendingProjectsLoadingError:"",pendingAchievements:null,pendingAchievementsLoading:!1,pendingAchievementsLoadingError:""},be=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,n=arguments.length>1?arguments[1]:void 0,a=Object(b.a)({},t);switch(n.type){case J:return Object(b.a)(Object(b.a)({},t),{},{pendingProjects:n.payload,pendingProjectsLoading:!1,pendingProjectsLoadingError:""});case H:return Object(b.a)(Object(b.a)({},t),{},{pendingProjectsLoading:n.payload});case q:return Object(b.a)(Object(b.a)({},t),{},{pendingProjectsLoading:!1,pendingProjectsLoadingError:n.payload});case B:return Object(b.a)(Object(b.a)({},t),{},{pendingAchievements:n.payload,pendingAchievementsLoading:!1,pendingAchievementsLoadingError:""});case U:return Object(b.a)(Object(b.a)({},t),{},{pendingAchievementsLoading:n.payload});case V:return Object(b.a)(Object(b.a)({},t),{},{pendingAchievementsLoading:!1,pendingAchievementsLoadingError:n.payload});case W:return t.pendingProjects?(a.pendingProjects=Object(oe.a)(a.pendingProjects),(e=a.pendingProjects.findIndex((function(e){return e.id===n.payload})))<0||(a.pendingProjects[e].approving=!0,a.pendingProjects[e].error=""),a):a;case K:return t.pendingProjects?(a.pendingProjects=Object(oe.a)(a.pendingProjects),(e=a.pendingProjects.findIndex((function(e){return e.id===n.payload})))<0||(a.pendingProjects[e].approving=!1,a.pendingProjects[e].approved="approved"),a):t;case Y:return t.pendingProjects?(a.pendingProjects=Object(oe.a)(a.pendingProjects),(e=a.pendingProjects.findIndex((function(e){return e.id===n.payload})))<0||(a.pendingProjects[e].rejecting=!0,a.pendingProjects[e].error=""),a):t;case X:return t.pendingProjects?(a.pendingProjects=Object(oe.a)(a.pendingProjects),(e=a.pendingProjects.findIndex((function(e){return e.id===n.payload})))<0||(a.pendingProjects[e].rejecting=!1,a.pendingProjects[e].approved="rejected"),a):t;case $:return t.pendingProjects?(a.pendingProjects=Object(oe.a)(a.pendingProjects),(e=a.pendingProjects.findIndex((function(e){return e.id===n.payload[0]})))<0||(a.pendingProjects[e].rejecting=!1,a.pendingProjects[e].approving=!1,a.pendingProjects[e].error=n.payload[1]),a):t;case ee:return t.pendingAchievements?(a.pendingAchievements=Object(oe.a)(a.pendingAchievements),(e=a.pendingAchievements.findIndex((function(e){return e.id===n.payload})))<0||(a.pendingAchievements[e].approving=!0,a.pendingAchievements[e].error=""),a):a;case ae:return t.pendingAchievements?(a.pendingAchievements=Object(oe.a)(a.pendingAchievements),(e=a.pendingAchievements.findIndex((function(e){return e.id===n.payload})))<0||(a.pendingAchievements[e].approving=!1,a.pendingAchievements[e].approved="approved"),a):t;case te:return t.pendingAchievements?(a.pendingAchievements=Object(oe.a)(a.pendingAchievements),(e=a.pendingAchievements.findIndex((function(e){return e.id===n.payload})))<0||(a.pendingAchievements[e].rejecting=!0,a.pendingAchievements[e].error=""),a):t;case ce:return t.pendingAchievements?(a.pendingAchievements=Object(oe.a)(a.pendingAchievements),(e=a.pendingAchievements.findIndex((function(e){return e.id===n.payload})))<0||(a.pendingAchievements[e].rejecting=!1,a.pendingAchievements[e].approved="rejected"),a):t;case se:return t.pendingAchievements?(a.pendingAchievements=Object(oe.a)(a.pendingAchievements),(e=a.pendingAchievements.findIndex((function(e){return e.id===n.payload[0]})))<0||(a.pendingAchievements[e].rejecting=!1,a.pendingAchievements[e].approving=!1,a.pendingAchievements[e].error=n.payload[1]),a):t;default:return t}},me=n(5),pe=n(422),Oe=n(423),xe=n(424),ge=n(393),fe=n(394),ve=n(395),Ne=n(396),ye=n(397),ke=n(398),we=n(399),Se=n(400),Ae="https://achievements-midas.herokuapp.com",Ee=Ae+"/",Le=n(29),Te=n.n(Le),Pe=function(e,t,n,a){n(!0),Te()(Ee+"main/api/banner/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+e}}).then((function(e){if(!e.ok)throw Error("Error occurred while fetching banners!");return e})).then((function(e){return e.json()})).then((function(e){n(!1),t(e)})).catch((function(e){n(!1),console.log(e),a(e.message)}))},Ce=function(e){return{type:v,payload:e}},Ie=function(e){return{type:g,payload:e}},De=function(e){return{type:f,payload:e}},ze=function(e){return function(t){var n="Token "+e;return Te()(Ee+"auth/api/profile/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:n}}).then((function(e){return e.json()})).then((function(e){var n;console.log(e.profile),t((n=e.profile,{type:N,payload:n}))})).catch((function(e){console.log(e)}))}},Me=function(e){return function(t){var n="Token "+e;Te()(Ee+"main/api/achievement",{method:"GET",headers:{"Content-Type":"application/json",Authorization:n}}).then((function(e){return e.json()})).then((function(e){var n;console.log(e),t((n=e.achievements,{type:y,payload:n}))})).catch((function(e){console.log(e)}))}},Fe=function(e){return function(t){var n="Token "+e;Te()(Ee+"main/api/project/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:n}}).then((function(e){return e.json()})).then((function(e){var n;console.log(e),t((n=e.projects,{type:k,payload:n}))})).catch((function(e){console.log(e)}))}},_e=function(e){return{type:m,payload:e}},Re=function(e){return{type:O,payload:e}},Ge=function(e){return function(t){var n="Token "+e;t(Ue(!0)),Te()(Ee+"main/api/get-students",{method:"GET",headers:{"Content-Type":"application/json",Authorization:n}}).then((function(e){return e.json()})).then((function(e){t(Be(e.students))})).catch((function(e){console.log(e),t(Ue(!1))}))}},Be=function(e){return{type:E,payload:e}},Ue=function(e){return{type:L,payload:e}},Ve=function(e){return{type:S,payload:e}},Je=function(e){return{type:A,payload:e}},He=function(e){return function(t){t(We(!0));var n="Token "+e;Te()(Ee+"main/api/institution/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:n}}).then((function(e){return e.json()})).then((function(e){t(qe(e))})).catch((function(e){console.log(e),t(We(!1))}))}},qe=function(e){return{type:T,payload:e}},We=function(e){return{type:P,payload:e}},Ye=function(e){return function(t){t(Ke(!0));var n="Token "+e;Te()(Ee+"main/api/tag/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:n}}).then((function(e){return e.json()})).then((function(e){t(Qe(e))})).catch((function(e){console.log(e),t(Ke(!1))}))}},Qe=function(e){return{type:C,payload:e}},Ke=function(e){return{type:I,payload:e}},Xe=function(e,t,n,a){return function(c){var s="Token "+e;Te()(Ee+"main/api/tag/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:s},body:JSON.stringify({title:t})}).then((function(e){if(!e.ok)throw new Error("There was a problem adding this tag to the database!");return e})).then((function(e){return e.json()})).then((function(e){return console.log(e),c({type:D,payload:e}),e})).then((function(e){return n(e)})).catch((function(e){console.log(e),a(e.message)}))}},Ze=function(e,t,n,a,c){var s="Token "+e;console.log(s),Te()(Ee+"main/api/project/"+t,{method:"GET",headers:{"Content-Type":"application/json",Authorization:s}}).then((function(e){if(!e.ok)throw new Error("Project not found!");return console.log(e.error),e})).then((function(e){return e.json()})).then((function(e){return console.log(e),n(e),a(!1),e})).catch((function(e){a(!1),c(e.message),console.log(e)}))},$e=function(e,t,n,a,c){var s="Token "+e;console.log(s),Te()(Ee+"main/api/achievement/"+t,{method:"GET",headers:{"Content-Type":"application/json",Authorization:s}}).then((function(e){if(!e.ok)throw new Error("Achievement not found!");return console.log(e.error),e})).then((function(e){return e.json()})).then((function(e){return console.log(e),n(e),a(!1),e})).catch((function(e){a(!1),c(e.message),console.log(e)}))},et=function(e){return{type:z,payload:e}},tt=function(e){return{type:M,payload:e}},nt=function(e){return{type:F,payload:e}},at=function(e,t,n){var a=new FormData;a.append("files",n),Te()(Ee+"main/api/achievement/"+t+"/",{method:"PATCH",headers:{Authorization:"Token "+e},body:a})},ct=function(e){return{type:_,payload:e}},st=function(e){return{type:R,payload:e}},it=function(e){return{type:G,payload:e}},rt=function(e){return function(t){t({type:H,payload:!0});var n="Token "+e;Te()(Ee+"main/api/get-projects-admin",{method:"GET",headers:{"Content-Type":"application/json",Authorization:n}}).then((function(e){if(!e.ok)throw new Error("There was a problem fetching pending projects!");return console.log(e),e})).then((function(e){return e.json()})).then((function(e){if(e.details)throw new Error(e.details);return e})).then((function(e){var n;return t((n=e.unapproved,{type:J,payload:n})),e})).catch((function(e){var n;console.log(e),t((n=e.message,{type:q,payload:n}))}))}},ot=function(e){return function(t){t({type:U,payload:!0});var n="Token "+e;Te()(Ee+"main/api/get-achievements-admin",{method:"GET",headers:{"Content-Type":"application/json",Authorization:n}}).then((function(e){if(!e.ok)throw new Error("There was a problem fetching pending achievements!");return console.log(e),e})).then((function(e){return e.json()})).then((function(e){if(e.details)throw new Error(e.details);return e})).then((function(e){var n;return t((n=e.unapproved,{type:B,payload:n})),e})).catch((function(e){var n;console.log(e),t((n=e.message,{type:V,payload:n}))}))}},lt=function(e,t){return{type:$,payload:[e,t]}},dt=function(e,t,n){return function(a){a(function(e){return{type:W,payload:e}}(t));var c="Token "+e;Te()(Ee+"main/api/project/"+t+"/",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:c},body:JSON.stringify({approved:"approved",approvedBy:n})}).then((function(e){if(!e.ok)throw console.log(e),new Error("There was a problem approving this project!");return console.log(e),e})).then((function(e){return e.json()})).then((function(e){return a(function(e){return{type:K,payload:e}}(t)),e})).catch((function(e){console.log(e),a(lt(t,e.message))}))}},jt=function(e,t,n,a){return function(c){c(function(e){return{type:Y,payload:e}}(t));var s="Token "+e;Te()(Ee+"main/api/project/"+t+"/",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:s},body:JSON.stringify({approved:"rejected",approvedBy:n,feedback:a})}).then((function(e){if(!e.ok)throw console.log(e),new Error("There was a problem rejecting this project!");return e})).then((function(e){return e.json()})).then((function(e){return c(function(e){return{type:X,payload:e}}(t)),e})).catch((function(e){console.log(e),c(lt(t,e.message))}))}},ht=function(e,t){return function(n){n(function(e){return{type:Q,payload:e}}(t));var a="Token "+e;Te()(Ee+"main/api/project/"+t+"/",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:a}}).then((function(e){if(!e.ok)throw console.log(e),new Error("There was a problem deleting this project!");return console.log(e),e})).then((function(e){return n(function(e){return{type:Z,payload:e}}(t)),e})).catch((function(e){console.log(e)}))}},ut=function(e,t){return{type:se,payload:[e,t]}},bt=function(e,t,n){return function(a){a(function(e){return{type:ee,payload:e}}(t));var c="Token "+e;Te()(Ee+"main/api/achievement/"+t+"/",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:c},body:JSON.stringify({approved:"approved",approvedBy:n})}).then((function(e){if(!e.ok)throw console.log(e),new Error("There was a problem approving this achievement!");return console.log(e),e})).then((function(e){return e.json()})).then((function(e){return a(function(e){return{type:ae,payload:e}}(t)),e})).catch((function(e){console.log(e),a(ut(t,e.message))}))}},mt=function(e,t,n,a){return function(c){c(function(e){return{type:te,payload:e}}(t));var s="Token "+e;Te()(Ee+"main/api/achievement/"+t+"/",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:s},body:JSON.stringify({approved:"rejected",approvedBy:n,feedback:a})}).then((function(e){if(!e.ok)throw console.log(e),new Error("There was a problem rejecting this achievement!");return e})).then((function(e){return e.json()})).then((function(e){return c(function(e){return{type:ce,payload:e}}(t)),e})).catch((function(e){console.log(e),c(ut(t,e.message))}))}},pt=function(e,t){return function(n){n(function(e){return{type:ne,payload:e}}(t));var a="Token "+e;Te()(Ee+"main/api/achievement/"+t+"/",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:a}}).then((function(e){if(!e.ok)throw console.log(e),new Error("There was a problem deleting this achievement!");return console.log(e),e})).then((function(e){return n(function(e){return{type:ie,payload:e}}(t)),e})).catch((function(e){console.log(e)}))}},Ot=n(0);function xt(e){var t=e.authorized,n=e.admin,a=e.logout;return t?Object(Ot.jsx)("div",{children:Object(Ot.jsxs)(pe.a,{inNavbar:!0,children:[Object(Ot.jsx)(Oe.a,{className:"m-auto p-auto",nav:!0,caret:!0,children:Object(Ot.jsx)("img",{className:"rounded-circle mr-2 ".concat(n?"red-glow":""),width:"50",height:"50",src:"/assets/Profile/dp.png",alt:"Display"})}),Object(Ot.jsxs)(xe.a,{right:!0,children:[Object(Ot.jsx)(r.b,{to:"/addachievement",children:Object(Ot.jsx)(ge.a,{children:"Add Achievement"})}),Object(Ot.jsx)(r.b,{to:"/addproject",children:Object(Ot.jsx)(ge.a,{children:"Add Project"})}),Object(Ot.jsx)(r.b,{to:"/myachievements",children:Object(Ot.jsx)(ge.a,{children:"My Achievements"})}),Object(Ot.jsx)(r.b,{to:"/myprojects",children:Object(Ot.jsx)(ge.a,{children:"My Projects"})}),Object(Ot.jsx)(r.b,{to:"/profile",children:Object(Ot.jsx)(ge.a,{children:"My Profile"})}),Object(Ot.jsx)(ge.a,{className:"".concat(n?"":"d-none"),divider:!0}),Object(Ot.jsx)(r.b,{className:n?"":"d-none",to:"/pending-projects",children:Object(Ot.jsx)(ge.a,{children:"Pending Projects"})}),Object(Ot.jsx)(r.b,{className:n?"":"d-none",to:"/pending-achievements",children:Object(Ot.jsx)(ge.a,{children:"Pending Achievements"})}),Object(Ot.jsx)(r.b,{className:n?"":"d-none",to:"/banners",children:Object(Ot.jsx)(ge.a,{children:"Edit Homepage Banner"})}),Object(Ot.jsx)(ge.a,{divider:!0}),Object(Ot.jsx)(ge.a,{onClick:a,children:"Logout"})]})]})}):Object(Ot.jsx)(Ot.Fragment,{})}var gt=Object(o.h)(Object(l.b)((function(e){return{authorized:e.user.authorized,token:e.user.token,profile:e.user.profile,profileLoaded:e.user.profileLoaded}}),(function(e){return{logout:function(){return e({type:w})},fetchUserProfile:function(t){return e(ze(t))}}}))((function(e){var t=Object(a.useState)(!0),n=Object(me.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(!1),o=Object(me.a)(i,2),l=o[0],d=o[1];return Object(a.useEffect)((function(){e.authorized&&!e.profileLoaded&&e.fetchUserProfile(e.token),d(e.profile&&3===e.profile.designation)}),[e]),Object(Ot.jsxs)(fe.a,{light:!0,expand:"md",className:"navigation pr-lg-3 pl-lg-3",children:[Object(Ot.jsxs)(ve.a,{className:"mr-sm-3 d-flex",href:"/",children:[Object(Ot.jsx)("img",{src:"/IIITDLogo.png",className:"",alt:"AP",height:"50"}),Object(Ot.jsx)(Ne.a,{className:"h1 font-weight-bold text-color-main d-flex d-sm-none my-auto ml-3 p-0",children:"AP"}),Object(Ot.jsx)(Ne.a,{className:"h3 font-weight-bold text-color-main d-none d-sm-flex d-md-none my-auto ml-3 p-0",children:"Achievements Portal"})]}),Object(Ot.jsx)(ye.a,{onClick:function(){return s(!c)}}),Object(Ot.jsx)(ke.a,{isOpen:!c,navbar:!0,children:Object(Ot.jsxs)(we.a,{navbar:!0,children:[Object(Ot.jsx)(Se.a,{className:"mr-4 my-2",children:Object(Ot.jsx)(r.b,{className:"m-auto text-center d-block",to:"/",children:"Home"})}),Object(Ot.jsx)(Se.a,{className:"mr-4 my-2 d-block",children:Object(Ot.jsx)(r.b,{className:"m-auto text-center d-block",to:"/about",children:"About"})}),Object(Ot.jsx)(Se.a,{className:"mr-4 my-2 ".concat(e.authorized?"d-block":"d-none"),children:Object(Ot.jsx)(r.b,{className:"m-auto text-center d-block",to:"/projects",children:"Projects"})}),Object(Ot.jsx)(Se.a,{className:"mr-4 my-2 ".concat(e.authorized?"d-block":"d-none"),children:Object(Ot.jsx)(r.b,{className:"m-auto text-center d-block",to:"/achievements",children:"Achievements"})}),Object(Ot.jsx)(Se.a,{className:"mr-4 my-2 ".concat(e.authorized?"d-none":"d-block"),children:Object(Ot.jsx)(r.b,{className:"m-auto text-center d-block",to:"/login",children:"Login"})}),Object(Ot.jsx)(Se.a,{className:"d-block d-md-none my-2",children:Object(Ot.jsx)("div",{className:"m-auto text-center d-block",children:Object(Ot.jsx)(xt,{authorized:e.authorized,admin:l,logout:e.logout})})})]})}),Object(Ot.jsx)(Ne.a,{className:"h2 font-weight-bold text-color-main text-center d-none d-lg-block",children:"Achievements Portal"}),Object(Ot.jsx)("div",{className:"d-none d-md-block ml-4",children:Object(Ot.jsx)(xt,{authorized:e.authorized,admin:l,logout:e.logout})})]})}))),ft=n(401),vt=n(402),Nt=n(403);var yt=function(){return Object(Ot.jsx)(ft.a,{fluid:!0,className:"bg-color-lightest-grey p-3 mt-5",children:Object(Ot.jsx)(vt.a,{children:Object(Ot.jsx)(Nt.a,{children:"Developed by hadron43, tushar2407"})})})},kt=n(59),wt=n(60),St=n(61),At=n(62),Et=n(198),Lt=n(203),Tt=n.n(Lt);n(265);var Pt=function(e){var t=e.size?e.size:"fa-5x",n=e.margin?e.margin:"my-5",a=e.color?e.color:"";return Object(Ot.jsx)("div",{className:"w-100 d-flex",children:Object(Ot.jsx)("div",{className:"d-flex m-auto",children:Object(Ot.jsx)("i",{className:"fa fa-spinner fa-pulse fa-fw text-color-main ".concat(t," ").concat(n," ").concat(a)})})})};var Ct=function(e){var t=e.message?e.message:"Error 404! Page Not Found.";return Object(Ot.jsx)(ft.a,{className:"p-3 p-md-4 p-lg-5 mt-4 mb-4 bg-color-lightest-grey rounded-3",children:Object(Ot.jsxs)(vt.a,{children:[Object(Ot.jsx)(Nt.a,{xs:12,className:"d-flex",children:Object(Ot.jsx)("img",{src:"/assets/page-not-found.png",alt:"Page not found",className:"d-flex m-auto",style:{maxWidth:"80%",maxHeight:"80%"}})}),Object(Ot.jsx)(Nt.a,{xs:12,children:Object(Ot.jsx)("h3",{className:"text-danger text-center mt-5",children:t})})]})})};function It(e){var t=e.icon;return Object(Ot.jsx)("div",{className:"rounded-circle bg-color-main d-flex p-2 arrow m-2",children:Object(Ot.jsx)("i",{class:"fa fa-2x d-flex m-auto "+t})})}function Dt(e){return Object(Ot.jsx)("div",{children:Object(Ot.jsxs)("div",{className:"container-fluid row pl-3 pr-3",children:[Object(Ot.jsx)("div",{className:"col-xs-12 col-sm-5 d-flex",children:Object(Ot.jsx)("img",{className:"d-flex m-auto",src:e.image,alt:"Banner",width:"90%"})}),Object(Ot.jsxs)("div",{className:"col-xs-12 col-sm-7 pt-3 pb-3",children:[Object(Ot.jsx)("h3",{className:"text-color-main pt-lg-5 pt-3",children:e.title}),Object(Ot.jsx)("p",{children:e.plot}),Object(Ot.jsx)("a",{href:e.link,className:"".concat(e.link?"":"d-none"),children:Object(Ot.jsx)(Et.a,{color:"info",className:"rounded bg-color-main-ui pl-3 pr-3",size:"lg",children:"Read More "})})]})]})})}var zt=Object(o.h)(Object(l.b)((function(e){return{banners:e.updates.banners}}),(function(e){return{addBanners:function(t){return e(function(e){return{type:x,payload:e}}(t))}}}))((function(e){var t=Object(a.useState)(e.banners),n=Object(me.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(!1),r=Object(me.a)(i,2),o=r[0],l=r[1],d=Object(a.useState)(""),j=Object(me.a)(d,2),h=j[0],u=j[1];return Object(a.useEffect)((function(){c||Pe("",s,l,u)}),[c]),Object(a.useEffect)((function(){e.addBanners(c)}),[c]),o?Object(Ot.jsx)(Pt,{}):h?Object(Ot.jsx)(Ct,{message:h}):Object(Ot.jsx)(Tt.a,{slidesPerPage:1,centered:!0,arrowLeft:Object(Ot.jsx)(It,{icon:"fa-arrow-left"}),arrowRight:Object(Ot.jsx)(It,{icon:"fa-arrow-right"}),addArrowClickHandler:!0,infinite:!0,autoPlay:8e3,animationSpeed:1500,breakpoints:{768:{arrowLeft:!1,arrowRight:!1}},className:"bg-color-lightest-grey",children:c?c.map((function(e){return Object(Ot.jsx)(Dt,{image:e.image,title:e.title,plot:e.description,link:e.link})})):Object(Ot.jsx)(Dt,{image:"assets/Home/1.jpg",title:"Welcome to Achievement Portal!",plot:""})})})));function Mt(e){var t=e.heading,n=e.updates,a=e.buttonText,c=void 0===a?"More Updates":a,s=e.buttonLink;return n?Object(Ot.jsxs)(ft.a,{className:"shadow rounded-lg bg-color-lightest-grey p-4 pb-5 h-100",children:[Object(Ot.jsx)("h4",{className:"text-color-main font-weight-bold mb-4",children:t}),n.length?n.map((function(e){return Object(Ot.jsx)(Ot.Fragment,{children:Object(Ot.jsx)("p",{children:e.title})})})):Object(Ot.jsx)("p",{className:"text-info",children:"No updates yet!"}),Object(Ot.jsx)("br",{}),Object(Ot.jsx)("div",{className:"bottom clearfix w-100",children:Object(Ot.jsx)(r.b,{to:s,children:Object(Ot.jsx)(Et.a,{color:"info",className:"mt-2 float-right bottom-button bg-color-main-ui",children:c})})})]}):Object(Ot.jsx)(Ot.Fragment,{})}var Ft=function(e){Object(St.a)(n,e);var t=Object(At.a)(n);function n(){return Object(kt.a)(this,n),t.apply(this,arguments)}return Object(wt.a)(n,[{key:"componentDidMount",value:function(){console.log(this.props.isLoading,this.props.errMess,this.props.publications),this.props.isLoading||this.props.errMess||this.props.publications||this.props.fetchUpdates()}},{key:"render",value:function(){return Object(Ot.jsxs)(Ot.Fragment,{children:[Object(Ot.jsx)(zt,{}),Object(Ot.jsx)(ft.a,{fluid:!0,className:"mt-3 mb-3",children:Object(Ot.jsx)(vt.a,{equal:!0,className:"p-1 p-sm-2 p-lg-3 p-xl-5",children:this.props.isLoading?Object(Ot.jsx)(Pt,{}):this.props.errMess?Object(Ot.jsx)(Ot.Fragment,{children:Object(Ot.jsx)("p",{className:"text-danger text-center",children:this.props.errMess})}):Object(Ot.jsxs)(Ot.Fragment,{children:[Object(Ot.jsx)(Nt.a,{size:"12",sm:"6",lg:"4",xxl:"3",className:"mb-4",children:Object(Ot.jsx)("div",{className:"col-12 h-100",children:Object(Ot.jsx)(Mt,{heading:"Projects",updates:this.props.publications,errMess:this.props.errMess})})}),Object(Ot.jsx)(Nt.a,{size:"12",sm:"6",lg:"4",xxl:"3",className:"mb-4",children:Object(Ot.jsx)("div",{className:"col-12 h-100",children:Object(Ot.jsx)(Mt,{heading:"Staff Achievements",updates:this.props.staff,errMess:this.props.errMess})})}),Object(Ot.jsx)(Nt.a,{size:"12",sm:"6",lg:"4",xxl:"3",className:"mb-4",children:Object(Ot.jsx)("div",{className:"col-12 h-100",children:Object(Ot.jsx)(Mt,{heading:"Student Achievements",updates:this.props.students,errMess:this.props.errMess})})})]})})})]})}}]),n}(a.Component),_t=Object(o.h)(Object(l.b)((function(e){return{isLoading:e.updates.isLoading,errMess:e.updates.errMess,publications:e.updates.updates.publications,staff:e.updates.updates.staff_achievements,students:e.updates.updates.student_achievements}}),(function(e){return{fetchUpdates:function(){var t;e((function(e){var n="Token "+t;return e(_e(!0)),Te()(Ee+"main/homepage",{method:"GET",headers:{"Content-Type":"application/json",Authorization:n}}).then((function(e){if(!e.ok)throw Error("Error occurred while fetching /main/homepage");return e})).then((function(e){return e.json()})).then((function(t){e(Re(t)),e(_e(!1))})).catch((function(t){console.log(t),e(_e(!1))}))}))}}}))(Ft)),Rt=n(407),Gt=n(411),Bt=n(412),Ut=n(409),Vt=n(204),Jt=n(410),Ht=n(404),qt=n(420),Wt=n(405),Yt=n(406),Qt=n(408),Kt=[{id:1,title:"Dr."},{id:2,title:"Mr."},{id:3,title:"Mrs."},{id:4,title:"Ms."}],Xt=["Matriculation","Intermediate","B.Tech.","B.Sc.","B.Com.","B.Arts.","B.Arch.","B.B.A.","M.B.A.","M.Tech.","M.Sc.","M.Com.","M.Arts.","M.Arch.","M.B.B.S.","M.Phil.","Ph.D.","Others"];function Zt(e){var t=e.value;return Object(Ot.jsx)(Ot.Fragment,{children:t?"approved"===t.toLowerCase()?Object(Ot.jsx)(Ht.a,{color:"success",pill:!0,children:"Approved"}):"pending"===t.toLowerCase()?Object(Ot.jsx)(Ht.a,{color:"warning",pill:!0,children:"Pending"}):Object(Ot.jsx)(Ht.a,{color:"danger",pill:!0,children:"Rejected"}):Object(Ot.jsx)(Ht.a,{color:"danger",pill:!0,children:"Error"})})}function $t(e){var t=e.modalOpen,n=e.setModalOpen,c=e.onReject,s=e.title,i=e.id,r=e.className,o=void 0===r?"":r,l=Object(a.useState)(""),d=Object(me.a)(l,2),j=d[0],h=d[1],u=function(){return n(!t)};return Object(Ot.jsxs)(qt.a,{isOpen:t,toggle:u,className:o,children:[Object(Ot.jsxs)(Wt.a,{toggle:u,children:[i,". ",s]}),Object(Ot.jsx)(Yt.a,{children:Object(Ot.jsx)(Rt.a,{type:"textarea",value:j,onChange:function(e){return h(e.target.value)},name:"reason",placeholder:"Enter reason for rejection",className:"w-100 px-2"})}),Object(Ot.jsxs)(Qt.a,{children:[Object(Ot.jsx)(Et.a,{color:"danger",onClick:function(){c(j),u()},children:"Reject"})," ",Object(Ot.jsx)(Et.a,{color:"secondary",onClick:u,children:"Cancel"})]})]})}function en(e){var t=e.user;return t?Object(Ot.jsx)(r.b,{to:"/profile/".concat(t.id?t.id:t.user),children:Object(Ot.jsx)(Et.a,{outline:!0,color:"primary",className:"rounded-pill",children:t.first_name+" "+t.last_name})}):Object(Ot.jsx)(Ot.Fragment,{})}function tn(e){var t=e.institution,n=e.degree,a=e.year;return Object(Ot.jsx)("p",{children:"".concat(n," \u2043 ").concat(t," \u2043 (").concat(a,")")})}function nn(e){return e.replace(/(^\w{1})|(\s+\w{1})/g,(function(e){return e.toUpperCase()}))}function an(e){var t=e.token,n=e.isModalOpen,c=e.setIsModalOpen,s=Object(a.useState)(""),i=Object(me.a)(s,2),r=i[0],o=i[1],l=Object(a.useState)(""),d=Object(me.a)(l,2),j=d[0],h=d[1],u=Object(a.useState)(!1),b=Object(me.a)(u,2),m=b[0],p=b[1],O=Object(a.useState)(!1),x=Object(me.a)(O,2),g=x[0],f=x[1],v=Object(a.useState)(!1),N=Object(me.a)(v,2),y=N[0],k=N[1],w=function(){h(""),o("")};return Object(Ot.jsxs)(qt.a,{isOpen:n,centered:!0,toggle:function(){return c(!n)},children:[Object(Ot.jsx)(Wt.a,{children:"Add Institute"}),Object(Ot.jsxs)(Yt.a,{children:[Object(Ot.jsx)("span",{className:"text-danger font-weight-bold",children:"NOTE: Go through these instructions before adding new institute."}),Object(Ot.jsxs)("ul",{className:"text-danger",children:[Object(Ot.jsx)("li",{children:"Make sure the institute that you are adding is not already present."}),Object(Ot.jsx)("li",{children:"Enter full name of city and institute."}),Object(Ot.jsx)("li",{children:"Refresh page after adding new institute."})]}),Object(Ot.jsx)(Rt.a,{placeholder:"Institute Name",value:r,onChange:function(e){return o(e.target.value)},className:"mb-2"}),Object(Ot.jsx)(Rt.a,{placeholder:"City Name",value:j,onChange:function(e){return h(e.target.value)},className:"mb-2"}),Object(Ot.jsx)("p",{className:"".concat(g?"text-danger":"text-success"),children:y})]}),Object(Ot.jsxs)(Qt.a,{children:[Object(Ot.jsx)(Et.a,{color:"danger",disabled:!r||!j||m,onClick:function(){return function(e,t,n,a,c,s){var i="Token "+e;n(!0),a(!1),c(""),Te()(Ee+"main/api/institution/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:i},body:JSON.stringify({title:t})}).then((function(e){if(!e.ok)throw new Error("Error while saving institution!");return e.json()})).then((function(){n(!1),c("Successfully saved!"),s()})).catch((function(e){console.log(e),n(!1),a(!0),c(e.message)}))}(t,nn(r)+", "+nn(j),p,f,k,w)},children:"Add New Institute"}),Object(Ot.jsx)(Et.a,{color:"success",onClick:function(){return c(!1)},children:"Cancel"})]})]})}function cn(e){var t=e.title,n=e.value;return Object(Ot.jsxs)(vt.a,{className:"mt-3 mb-3",children:[Object(Ot.jsx)(Nt.a,{md:"4",children:Object(Ot.jsx)("h3",{className:"font-weight-bold",children:t})}),Object(Ot.jsx)(Nt.a,{md:"8",children:Object(Ot.jsx)("p",{className:"h4",children:n})})]})}function sn(e){var t=e.title,n=e.value,a=e.setValue,c=e.type,s=void 0===c?"text":c;return Object(Ot.jsxs)(vt.a,{className:"mt-3 mb-3",children:[Object(Ot.jsx)(Nt.a,{md:"4",children:Object(Ot.jsx)("h3",{className:"font-weight-bold",children:t})}),Object(Ot.jsx)(Nt.a,{md:"8",children:Object(Ot.jsx)(Rt.a,{type:s,value:n,onChange:function(e){return a(e.target.value)}})})]})}function rn(e){var t=e.title,n=e.value,a=e.setValue,c=e.values;return Object(Ot.jsxs)(vt.a,{className:"mt-3 mb-3",children:[Object(Ot.jsx)(Nt.a,{md:"4",children:Object(Ot.jsx)("h3",{className:"font-weight-bold",children:t})}),Object(Ot.jsx)(Nt.a,{md:"8",children:Object(Ot.jsx)(Rt.a,{type:"select",value:n,onChange:function(e){return a(e.target.value)},children:Object(Ot.jsx)(Ot.Fragment,{children:c.map((function(e){return Object(Ot.jsx)("option",{value:e.id,children:e.title})}))})})})]})}function on(e){var t=e.instagram,n=e.setInstagram,a=e.facebook,c=e.setFacebook,s=e.github,i=e.setGithub,r=e.twitter,o=e.setTwitter;return Object(Ot.jsxs)(vt.a,{className:"mt-3 mb-3",children:[Object(Ot.jsx)(Nt.a,{md:"4",children:Object(Ot.jsx)("h3",{className:"font-weight-bold",children:"Social Media"})}),Object(Ot.jsxs)(Nt.a,{md:"8",children:[Object(Ot.jsxs)(Ut.a,{className:"mb-2",children:[Object(Ot.jsx)(Vt.a,{className:"p-1",children:Object(Ot.jsx)("i",{class:"fa fa-facebook-square fa-2x text-primary"})}),Object(Ot.jsx)(Rt.a,{bsSize:"lg",value:a,onChange:function(e){return c(e.target.value)}})]}),Object(Ot.jsxs)(Ut.a,{className:"mb-2",children:[Object(Ot.jsx)(Vt.a,{className:"p-1",children:Object(Ot.jsx)("i",{class:"fa fa-instagram fa-2x text-danger"})}),Object(Ot.jsx)(Rt.a,{bsSize:"lg",value:t,onChange:function(e){return n(e.target.value)}})]}),Object(Ot.jsxs)(Ut.a,{className:"mb-2",children:[Object(Ot.jsx)(Vt.a,{className:"p-1",children:Object(Ot.jsx)("i",{class:"fa fa-twitter-square fa-2x text-info"})}),Object(Ot.jsx)(Rt.a,{bsSize:"lg",value:r,onChange:function(e){return o(e.target.value)}})]}),Object(Ot.jsxs)(Ut.a,{className:"mb-2",children:[Object(Ot.jsx)(Vt.a,{className:"p-1",children:Object(Ot.jsx)("i",{class:"fa fa-github-square fa-2x text-dark"})}),Object(Ot.jsx)(Rt.a,{bsSize:"lg",value:s,onChange:function(e){return i(e.target.value)}})]})]})]})}function ln(e){var t=e.instagram,n=e.facebook,a=e.github,c=e.twitter;return Object(Ot.jsxs)(vt.a,{className:"mt-3 mb-3",children:[Object(Ot.jsx)(Nt.a,{md:"4",children:Object(Ot.jsx)("h3",{className:"font-weight-bold",children:"Social Media"})}),Object(Ot.jsxs)(Nt.a,{md:"8",children:[Object(Ot.jsx)(r.b,{to:{pathname:n},target:"_blank",children:Object(Ot.jsx)("i",{class:"fa fa-facebook-square fa-2x mr-3 text-primary ".concat(n?"":"d-none")})}),Object(Ot.jsx)(r.b,{to:{pathname:t},target:"_blank",children:Object(Ot.jsx)("i",{class:"fa fa-instagram fa-2x mr-3 text-danger ".concat(t?"":"d-none")})}),Object(Ot.jsx)(r.b,{to:{pathname:c},target:"_blank",children:Object(Ot.jsx)("i",{class:"fa fa-twitter-square fa-2x mr-3 text-info ".concat(c?"":"d-none")})}),Object(Ot.jsx)(r.b,{to:{pathname:a},target:"_blank",children:Object(Ot.jsx)("i",{class:"fa fa-github-square fa-2x mr-3 text-dark ".concat(a?"":"d-none")})})]})]})}function dn(e){return e.achievements?0===e.achievements.length?Object(Ot.jsx)("div",{className:"w-100 rounded-3 p-3 bg-color-silver",children:Object(Ot.jsx)("p",{className:"h3 text-center my-5",children:"No achievements to show"})}):Object(Ot.jsx)("div",{className:"bg-color-off-white rounded-2 col-12",children:Object(Ot.jsxs)(Jt.a,{hover:!0,responsive:!0,className:"rounded-2",children:[Object(Ot.jsxs)("thead",{children:[Object(Ot.jsx)("th",{className:"text-color-main h5",children:"#"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Title"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Status"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Description"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Achieved Date"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Details"})]}),Object(Ot.jsx)("tbody",{children:e.achievements.map((function(t){var n=e.achievements.indexOf(t);return Object(Ot.jsxs)("tr",{children:[Object(Ot.jsx)("th",{scope:"row",children:n+1}),Object(Ot.jsx)("td",{children:t.title}),Object(Ot.jsx)("td",{children:Object(Ot.jsx)("h5",{children:Object(Ot.jsx)(Zt,{value:t.approved})})}),Object(Ot.jsx)("td",{children:t.description}),Object(Ot.jsx)("td",{children:new Date(t.achievedDate).toLocaleString("default",{day:"2-digit",month:"short",year:"numeric"})}),Object(Ot.jsx)("td",{children:Object(Ot.jsx)(r.b,{to:"/achievement/"+t.id,children:Object(Ot.jsx)(Et.a,{color:"info",children:"View"})})})]})}))})]})}):Object(Ot.jsx)(Pt,{})}function jn(e){return e.projects?0===e.projects.length?Object(Ot.jsx)("div",{className:"w-100 rounded-3 p-3 bg-color-silver",children:Object(Ot.jsx)("p",{className:"h3 text-center my-5",children:"No projects to show"})}):Object(Ot.jsx)("div",{className:"bg-color-off-white rounded-2 col-12",children:Object(Ot.jsxs)(Jt.a,{hover:!0,responsive:!0,className:"rounded-2",children:[Object(Ot.jsxs)("thead",{children:[Object(Ot.jsx)("th",{className:"text-color-main h5",children:"#"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Title"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Status"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Description"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Field"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Domain"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Details"})]}),Object(Ot.jsx)("tbody",{children:e.projects.map((function(t){var n=e.projects.indexOf(t);return Object(Ot.jsxs)("tr",{children:[Object(Ot.jsx)("th",{scope:"row",children:n+1}),Object(Ot.jsx)("td",{children:t.title}),Object(Ot.jsx)("td",{children:Object(Ot.jsx)("h5",{children:Object(Ot.jsx)(Zt,{value:t.approved})})}),Object(Ot.jsx)("td",{children:t.description}),Object(Ot.jsx)("td",{children:t.field}),Object(Ot.jsx)("td",{children:t.domain}),Object(Ot.jsx)("td",{children:Object(Ot.jsx)(r.b,{to:"/project/"+t.id,children:Object(Ot.jsx)(Et.a,{color:"info",children:"View"})})})]})}))})]})}):Object(Ot.jsx)(Pt,{})}var hn=Object(o.h)(Object(l.b)((function(e){return{authorized:e.user.authorized,token:e.user.token,institutesList:e.forms.institutesList,institutesLoading:e.forms.institutesLoading}}),(function(e){return{fetchInstitutesList:function(t){return e(He(t))}}}))((function(e){var t=Object(a.useState)(1),n=Object(me.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(Xt[0]),r=Object(me.a)(i,2),o=r[0],l=r[1],d=Object(a.useState)(""),j=Object(me.a)(d,2),h=j[0],u=j[1],b=Object(a.useState)(!1),m=Object(me.a)(b,2),p=m[0],O=m[1];return Object(a.useEffect)((function(){e.institutesList||e.institutesLoading||e.fetchInstitutesList(e.token)}),[e]),Object(Ot.jsxs)(vt.a,{className:"mt-3 mb-3",children:[Object(Ot.jsx)(an,{token:e.token,isModalOpen:p,setIsModalOpen:O}),Object(Ot.jsx)(Nt.a,{md:"4",children:Object(Ot.jsx)("h3",{className:"font-weight-bold",children:"Education"})}),Object(Ot.jsxs)(Nt.a,{md:"8",children:[Object(Ot.jsx)(vt.a,{children:e.educationList?Object(Ot.jsx)(Ot.Fragment,{children:e.educationList.map((function(t){return Object(Ot.jsxs)(Ot.Fragment,{children:[Object(Ot.jsx)(Nt.a,{xs:9,lg:10,className:"pr-1",children:Object(Ot.jsx)(tn,{institution:e.institutesList?e.institutesList.find((function(e){return e.id===t.institution})).title:"",degree:t.degree,year:t.year})}),Object(Ot.jsx)(Nt.a,{xs:3,lg:2,className:"pl-1",children:Object(Ot.jsx)(Et.a,{color:"danger",className:"w-100",onClick:function(){return e.setEducationList(e.educationList.filter((function(e){return e!==t})))},children:"Delete"})})]})}))}):Object(Ot.jsx)(Ot.Fragment,{})}),Object(Ot.jsxs)(vt.a,{className:"mt-3",children:[Object(Ot.jsx)(Nt.a,{xs:4,lg:5,className:"pr-1",children:Object(Ot.jsx)(Rt.a,{type:"select",name:"institution",value:c,onChange:function(e){return s(e.target.value)},className:"w-100",disabled:e.institutesLoading,children:Object(Ot.jsx)(Ot.Fragment,{children:e.institutesList?e.institutesList.map((function(e){return Object(Ot.jsx)("option",{value:e.id,children:e.title})})):Object(Ot.jsx)(Ot.Fragment,{})})})}),Object(Ot.jsx)(Nt.a,{xs:3,className:"px-1",children:Object(Ot.jsx)(Rt.a,{type:"select",name:"degree",value:o,onChange:function(e){return l(e.target.value)},className:"w-100",children:Object(Ot.jsx)(Ot.Fragment,{children:Xt?Xt.map((function(e){return Object(Ot.jsx)("option",{value:e,children:e})})):Object(Ot.jsx)(Ot.Fragment,{})})})}),Object(Ot.jsx)(Nt.a,{xs:2,className:"px-1",children:Object(Ot.jsx)(Rt.a,{type:"text",value:h,onChange:function(e){return u(e.target.value)},name:"year",placeholder:"Year",className:"w-100"})}),Object(Ot.jsx)(Nt.a,{xs:3,lg:2,className:"pl-1",children:Object(Ot.jsx)(Et.a,{disabled:e.institutesLoading,outline:!0,className:"w-100",onClick:function(){e.setEducationList([].concat(Object(oe.a)(e.educationList),[{institution:parseInt(c),degree:o,year:parseInt(h)}]))},children:"Add"})})]}),Object(Ot.jsx)(vt.a,{className:"mt-2",children:Object(Ot.jsx)(Nt.a,{children:Object(Ot.jsx)(Et.a,{color:"link",onClick:function(){return O(!0)},children:"Can't find your institute? Click here to add institute."})})})]})]})})));var un=Object(o.h)(Object(l.b)((function(e){return{profileLoaded:e.user.profileLoaded,profile:e.user.profile,authorized:e.user.authorized,token:e.user.token}}))((function(e){var t=Object(a.useState)(""),n=Object(me.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(""),r=Object(me.a)(i,2),o=r[0],l=r[1],d=Object(a.useState)(""),j=Object(me.a)(d,2),h=j[0],u=j[1],b=Object(a.useState)(""),m=Object(me.a)(b,2),p=m[0],O=m[1],x=Object(a.useState)(""),g=Object(me.a)(x,2),f=g[0],v=g[1],N=Object(a.useState)([]),y=Object(me.a)(N,2),k=y[0],w=y[1],S=Object(a.useState)(""),A=Object(me.a)(S,2),E=A[0],L=A[1],T=Object(a.useState)(""),P=Object(me.a)(T,2),C=P[0],I=P[1],D=Object(a.useState)(!0),z=Object(me.a)(D,2),M=z[0],F=z[1],_=Object(a.useState)(!1),R=Object(me.a)(_,2),G=R[0],B=R[1],U=Object(a.useState)(!1),V=Object(me.a)(U,2),J=V[0],H=V[1],q=Object(a.useState)(""),W=Object(me.a)(q,2),Y=W[0],Q=W[1];return Object(a.useEffect)((function(){fetch(Ee+"main/api/student/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+e.token}}).then((function(e){if(e.ok)return e;throw new Error("Error fetching student details!")})).then((function(e){return e.json()})).then((function(e){e=e[0],s(e.rollNo),l(e.batch),u(e.major),O(e.GPA),v(e.bio),w(e.education),L(e.id),F(!1)})).catch((function(e){console.log(e),I(e.message),F(!1)}))}),[e.token]),Object(Ot.jsxs)(Ot.Fragment,{children:[Object(Ot.jsx)(vt.a,{className:"p-3 p-md-4 ",children:Object(Ot.jsx)(Nt.a,{className:"xs-12 text-center",children:Object(Ot.jsx)("h2",{className:"font-weight-bold",children:"Edit Student Details"})})}),Object(Ot.jsx)(vt.a,{children:Object(Ot.jsx)(Nt.a,{children:M?Object(Ot.jsx)(Pt,{}):C?Object(Ot.jsx)("p",{xs:12,className:"text-danger",children:C}):Object(Ot.jsxs)(Ot.Fragment,{children:[Object(Ot.jsx)(sn,{title:"Roll Number",value:c,setValue:s}),Object(Ot.jsx)(sn,{title:"Batch",value:o,setValue:l,type:"number"}),Object(Ot.jsx)(sn,{title:"Major",value:h,setValue:u}),Object(Ot.jsx)(sn,{title:"CGPA",value:p,setValue:O}),Object(Ot.jsx)(hn,{educationList:k,setEducationList:w}),Object(Ot.jsx)(Et.a,{color:"success",disabled:G,onClick:function(){return function(e,t,n,a,c,s){a(!0),c(!1),s(""),fetch(Ee+"main/api/student/"+t+"/",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Token "+e},body:JSON.stringify(n)}).then((function(e){if(e.ok)return e;throw new Error("Error saving student details!")})).then((function(e){return e.json()})).then((function(e){a(!1),s("Student details successfully saved!")})).catch((function(e){console.log(e),a(!1),c(!0),s(e.message)}))}(e.token,E,{rollNo:c,batch:o,major:h,GPA:p,bio:f,education:k},B,H,Q)},children:"Save Student Details"}),Object(Ot.jsx)("p",{className:"".concat(J?"text-danger":"text-success"," mt-3"),children:Y})]})})})]})})));var bn=Object(o.h)(Object(l.b)((function(e){return{profileLoaded:e.user.profileLoaded,profile:e.user.profile,authorized:e.user.authorized,token:e.user.token}}))((function(e){var t=Object(a.useState)(""),n=Object(me.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(""),r=Object(me.a)(i,2),o=r[0],l=r[1],d=Object(a.useState)(""),j=Object(me.a)(d,2),h=j[0],u=j[1],b=Object(a.useState)(""),m=Object(me.a)(b,2),p=m[0],O=m[1],x=Object(a.useState)(""),g=Object(me.a)(x,2),f=g[0],v=g[1],N=Object(a.useState)([]),y=Object(me.a)(N,2),k=y[0],w=y[1],S=Object(a.useState)(""),A=Object(me.a)(S,2),E=A[0],L=A[1],T=Object(a.useState)(""),P=Object(me.a)(T,2),C=P[0],I=P[1],D=Object(a.useState)(!0),z=Object(me.a)(D,2),M=z[0],F=z[1],_=Object(a.useState)(!1),R=Object(me.a)(_,2),G=R[0],B=R[1],U=Object(a.useState)(!1),V=Object(me.a)(U,2),J=V[0],H=V[1],q=Object(a.useState)(""),W=Object(me.a)(q,2),Y=W[0],Q=W[1];return Object(a.useEffect)((function(){fetch(Ee+"main/api/staff/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+e.token}}).then((function(e){if(e.ok)return e;throw new Error("Error fetching student details!")})).then((function(e){return e.json()})).then((function(e){e=e[0],s(e.employeeId),l(e.associatedSince),u(e.department),O(e.title),v(e.designation),w(e.education),L(e.id),F(!1)})).catch((function(e){console.log(e),I(e.message),F(!1)}))}),[e.token]),Object(Ot.jsxs)(Ot.Fragment,{children:[Object(Ot.jsx)(vt.a,{className:"p-3 p-md-4 ",children:Object(Ot.jsx)(Nt.a,{className:"xs-12 text-center",children:Object(Ot.jsx)("h2",{className:"font-weight-bold",children:"Edit Staff Details"})})}),Object(Ot.jsx)(vt.a,{children:Object(Ot.jsx)(Nt.a,{children:M?Object(Ot.jsx)(Pt,{}):C?Object(Ot.jsx)("p",{xs:12,className:"text-danger",children:C}):Object(Ot.jsxs)(Ot.Fragment,{children:[Object(Ot.jsx)(sn,{title:"Employee Id",value:c,setValue:s,type:"number"}),Object(Ot.jsx)(sn,{title:"Joining Date",value:o,setValue:l,type:"date"}),Object(Ot.jsx)(sn,{title:"Department",value:h,setValue:u}),Object(Ot.jsx)(rn,{title:"Title",value:p,setValue:O,values:Kt}),Object(Ot.jsx)(sn,{title:"Designation",value:f,setValue:v}),Object(Ot.jsx)(hn,{educationList:k,setEducationList:w}),Object(Ot.jsx)(Et.a,{color:"success",disabled:G,onClick:function(){return function(e,t,n,a,c,s){a(!0),c(!1),s(""),fetch(Ee+"main/api/staff/"+t+"/",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Token "+e},body:JSON.stringify(n)}).then((function(e){if(e.ok)return e;throw new Error("Error saving staff details!")})).then((function(e){return e.json()})).then((function(e){a(!1),s("Staff details successfully saved!")})).catch((function(e){console.log(e),a(!1),c(!0),s(e.message)}))}(e.token,E,{employeeId:c,associatedSince:o,department:h,title:p,designation:f,education:k},B,H,Q)},children:"Save Staff Details"}),Object(Ot.jsx)("p",{className:"".concat(J?"text-danger":"text-success"," mt-3"),children:Y})]})})})]})})));var mn=Object(o.h)(Object(l.b)((function(e){return{profileLoaded:e.user.profileLoaded,profile:e.user.profile,authorized:e.user.authorized,token:e.user.token,achievements:e.user.achievements,projects:e.user.projects}}),(function(e){return{fetchUserProfile:function(t){return e(ze(t))},patchUserProfile:function(t,n,a,c,s,i){return e(function(e,t,n,a,c,s){return function(i){a(!0),c("");var r="Token "+e;n.profile_pic||delete n.profile_pic;var o=new FormData;for(var l in n)o.append(l,n[l]);return Te()(Ee+"auth/api/profile/"+t+"/",{method:"PATCH",headers:{Authorization:r},body:o}).then((function(e){if(!e.ok)throw new Error("Error while saving profile!");return e.json()})).then((function(e){c("Profile saved!"),s(!0),a(!1)})).catch((function(e){console.log(e),a(!1),s(!1),c(e.message)}))}}(t,n,a,c,s,i))}}}))((function(e){Object(a.useEffect)((function(){e.authorized&&!e.profileLoaded&&e.fetchUserProfile(e.token)}),[e]);var t=Object(a.useState)(""),n=Object(me.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(""),l=Object(me.a)(i,2),d=l[0],j=l[1],h=Object(a.useState)(""),u=Object(me.a)(h,2),b=u[0],m=u[1],p=Object(a.useState)(!1),O=Object(me.a)(p,2),x=O[0],g=O[1],f=Object(a.useState)(!1),v=Object(me.a)(f,2),N=v[0],y=v[1],k=Object(a.useState)(""),w=Object(me.a)(k,2),S=w[0],A=w[1],E=Object(a.useState)(void 0),L=Object(me.a)(E,2),T=L[0],P=L[1],C=Object(a.useState)(0),I=Object(me.a)(C,2),D=I[0],z=I[1],M=Object(a.useState)(""),F=Object(me.a)(M,2),_=F[0],R=F[1],G=Object(a.useState)(""),B=Object(me.a)(G,2),U=B[0],V=B[1],J=Object(a.useState)(""),H=Object(me.a)(J,2),q=H[0],W=H[1],Y=Object(a.useState)(""),Q=Object(me.a)(Y,2),K=Q[0],X=Q[1],Z=Object(a.useState)(""),$=Object(me.a)(Z,2),ee=$[0],te=$[1],ne=Object(a.useState)(""),ae=Object(me.a)(ne,2),ce=ae[0],se=ae[1],ie=Object(a.useState)(""),re=Object(me.a)(ie,2),oe=re[0],le=re[1],de=Object(a.useState)(!1),je=Object(me.a)(de,2),he=je[0],ue=je[1],be=Object(a.useState)(""),pe=Object(me.a)(be,2),Oe=pe[0],xe=pe[1],ge=Object(a.useState)(!0),fe=Object(me.a)(ge,2),ve=fe[0],Ne=fe[1];return Object(a.useEffect)((function(){s(e.profile.name),A(e.profile.group),R(e.profile.address),z(e.profile.gender),P(e.profile.dob),j(e.profile.email),m(e.profile.phone_number),g(e.profile.show_email),y(e.profile.show_phone),te(e.profile.twitter),X(e.profile.instagram),V(e.profile.github),W(e.profile.instagram),e.profile.profile_pic&&se(Ae+e.profile.profile_pic)}),[e.profile]),e.authorized?e.profileLoaded?Object(Ot.jsxs)(ft.a,{className:"p-4 p-md-5 mt-4 mb-4 bg-color-lightest-grey rounded-3",children:[Object(Ot.jsx)(vt.a,{className:"p-3 p-md-4 ",children:Object(Ot.jsx)(Nt.a,{className:"xs-12 text-center",children:Object(Ot.jsx)("h2",{className:"font-weight-bold",children:"Edit Profile"})})}),Object(Ot.jsxs)(vt.a,{children:[Object(Ot.jsxs)(Nt.a,{md:"4",children:[Object(Ot.jsx)("img",{src:ce&&"."!==ce?ce:"assets/Profile/dp.png",alt:"profile",className:"rounded-circle w-100 p-3"}),Object(Ot.jsx)("p",{className:"text-danger",children:"Note: Picture should be in 1:1 aspect ratio. File size less than 2 MB."}),Object(Ot.jsx)(Rt.a,{type:"file",id:"profile_pic",name:"profile_pic",onChange:function(e){if(e.target.files[0]){le(e.target.files[0]);var t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onloadend=function(){se(t.result)}}}})]}),Object(Ot.jsxs)(Nt.a,{md:"8",children:[Object(Ot.jsx)(sn,{title:"Name",value:c,setValue:s}),Object(Ot.jsx)(cn,{title:"Role",value:["Student","Staff","Admin"][e.profile.designation-1]}),Object(Ot.jsx)(cn,{title:"Email",value:d}),Object(Ot.jsx)(sn,{title:"Date of Birth",value:T,setValue:P,type:"date"}),Object(Ot.jsx)(rn,{title:"Gender",value:D,setValue:z,values:[{id:1,title:"Female"},{id:2,title:"Male"},{id:3,title:"Others"}]}),Object(Ot.jsx)(sn,{title:"Phone",value:b,setValue:m,type:"number"}),Object(Ot.jsxs)(vt.a,{className:"mt-3 mb-3",children:[Object(Ot.jsx)(Nt.a,{md:"4"}),Object(Ot.jsxs)(Nt.a,{md:"8",children:[Object(Ot.jsxs)(Gt.a,{check:!0,inline:!0,children:[Object(Ot.jsx)(Rt.a,{id:"showemail",type:"checkbox",checked:x,onChange:function(e){return g(e.target.checked)}}),Object(Ot.jsx)(Bt.a,{check:!0,for:"showemail",children:"Show Email"})]}),Object(Ot.jsxs)(Gt.a,{check:!0,inline:!0,children:[Object(Ot.jsx)(Rt.a,{id:"showphone",type:"checkbox",checked:N,onChange:function(e){return y(e.target.checked)}}),Object(Ot.jsx)(Bt.a,{check:!0,for:"showphone",children:"Show Phone"})]})]})]})]})]}),Object(Ot.jsx)(sn,{title:"Bio",value:_,setValue:R,type:"textarea"}),Object(Ot.jsx)(on,{instagram:q,setInstagram:W,facebook:K,setFacebook:X,twitter:ee,setTwitter:te,github:U,setGithub:V}),Object(Ot.jsx)(Et.a,{disabled:he,onClick:function(){return e.patchUserProfile(e.token,e.profile.id,{name:c,e_mail:d,phone_number:b,show_email:x,show_phone:N,group:S,dob:T,gender:D,address:_,github:U,instagram:q,facebook:K,twitter:ee,profile_pic:oe},ue,xe,Ne)},color:"success",children:"Save Changes"}),Object(Ot.jsx)(r.b,{to:"/profile/"+e.profile.user,children:Object(Ot.jsx)(Et.a,{color:"primary",className:"ml-3",children:"View Public Profile"})}),Object(Ot.jsx)("p",{className:"".concat(ve?"text-success":"text-danger"," mt-3"),children:Oe}),1===e.profile.designation?Object(Ot.jsx)(un,{}):Object(Ot.jsx)(bn,{})]}):Object(Ot.jsx)(Pt,{}):Object(Ot.jsx)(o.a,{to:"/login"})}))),pn=n(413);var On=function(e){var t=e.query,n=e.setQuery,a=e.onSearch;return Object(Ot.jsxs)(vt.a,{className:"w-100",children:[Object(Ot.jsx)(Nt.a,{xs:"9",children:Object(Ot.jsxs)(Ut.a,{className:"rounded-pill p-0",children:[Object(Ot.jsx)(pn.a,{addonType:"prepend",children:Object(Ot.jsxs)(Vt.a,{className:"text-color-main bg-color-lightest-grey",children:[" ",Object(Ot.jsx)("i",{class:"fa fa-search","aria-hidden":"true"})," "]})}),Object(Ot.jsx)(Rt.a,{placeholder:"Enter title",value:t,onChange:function(e){n(e.target.value)},className:"p-3"})]})}),Object(Ot.jsx)(Nt.a,{xs:"3",className:"p-0",children:Object(Ot.jsx)(Et.a,{color:"info",onClick:a,className:"bg-color-main-ui w-100 rounded-pill",children:"Search"})})]})};function xn(e,t,n,a,c){fetch(Ee+"main/api/search?q="+t,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+e}}).then((function(e){if(!e.ok)throw new Error("Unexpected error occurred!");return console.log(e.error),e})).then((function(e){return e.json()})).then((function(e){return console.log(e),n(e.projects.filter((function(e){return"approved"===e.approved}))),a(!1),e})).catch((function(e){a(!1),c(e.message),console.log(e)}))}function gn(e){var t=e.projects;return Object(Ot.jsxs)(Jt.a,{hover:!0,responsive:!0,className:"rounded-2",children:[Object(Ot.jsxs)("thead",{children:[Object(Ot.jsx)("th",{className:"text-color-main h5",children:"#"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Title"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Description"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Added By"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Date Created"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Details"})]}),Object(Ot.jsx)("tbody",{children:t?t.map((function(e){return Object(Ot.jsxs)("tr",{children:[Object(Ot.jsx)("th",{scope:"row",children:e.id}),Object(Ot.jsx)("td",{children:e.title}),Object(Ot.jsx)("td",{children:e.description}),Object(Ot.jsx)("td",{children:e.addedBy?e.addedBy.first_name:""}),Object(Ot.jsx)("td",{children:new Date(e.dateCreated).toLocaleString("default",{day:"2-digit",month:"short",year:"numeric"})}),Object(Ot.jsx)("td",{children:Object(Ot.jsx)(r.b,{to:"/project/"+e.id,children:Object(Ot.jsx)(Et.a,{color:"info",children:"View"})})})]})})):Object(Ot.jsx)(Ot.Fragment,{})})]})}var fn=Object(o.h)(Object(l.b)((function(e){return{authorized:e.user.authorized,token:e.user.token}}))((function(e){var t=Object(a.useState)(!1),n=Object(me.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(""),r=Object(me.a)(i,2),l=r[0],d=r[1],j=Object(a.useState)(!1),h=Object(me.a)(j,2),u=h[0],b=h[1],m=Object(a.useState)(""),p=Object(me.a)(m,2),O=p[0],x=p[1];return Object(a.useEffect)((function(){s(!0),xn(e.token,"",b,s,d)}),[e.token]),e.authorized?l?Object(Ot.jsx)(Ct,{message:l}):Object(Ot.jsxs)(ft.a,{className:"p-3 p-md-4 mt-4 mb-4 bg-color-lightest-grey rounded-3",children:[Object(Ot.jsx)(vt.a,{children:Object(Ot.jsx)(Nt.a,{md:{size:8,offset:2},children:Object(Ot.jsx)(On,{query:O,setQuery:x,onSearch:function(){s(!0),xn(e.token,O,b,s,d)}})})}),Object(Ot.jsx)(vt.a,{className:"mt-4",children:c?Object(Ot.jsx)(Pt,{}):Object(Ot.jsx)(gn,{projects:u})})]}):Object(Ot.jsx)(o.a,{to:"/login"})}))),vn=(n(266),n(31)),Nn=n(414),yn=function(e){Object(St.a)(n,e);var t=Object(At.a)(n);function n(e){var a;return Object(kt.a)(this,n),(a=t.call(this,e)).state={username:"",password:""},a.handleSubmit=a.handleSubmit.bind(Object(vn.a)(a)),a.handleUsernameChange=a.handleUsernameChange.bind(Object(vn.a)(a)),a.handlePasswordChange=a.handlePasswordChange.bind(Object(vn.a)(a)),a}return Object(wt.a)(n,[{key:"handleUsernameChange",value:function(e){this.setState({username:e.target.value})}},{key:"handlePasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"handleSubmit",value:function(e){this.props.login(this.state.username,this.state.password)}},{key:"render",value:function(){var e=this;return this.props.authorized?Object(Ot.jsx)(o.a,{to:"/profile"}):Object(Ot.jsx)(ft.a,{className:"my-5",children:Object(Ot.jsxs)(vt.a,{className:"rounded-3 shadow",children:[Object(Ot.jsx)(Nt.a,{md:"6",className:"d-none d-md-flex p-0",children:Object(Ot.jsx)("img",{src:"assets/login.jpg",alt:"banner",className:"d-flex mx-auto w-100 h-100 rounded-left-3"})}),Object(Ot.jsxs)(Nt.a,{md:"6",xs:"12",className:"py-3",children:[Object(Ot.jsx)(vt.a,{children:Object(Ot.jsx)(Nt.a,{xs:"12",className:"d-flex mt-4",children:Object(Ot.jsx)("img",{src:"IIITDLogo.png",alt:"IIITD Logo",className:"w-25 d-flex mx-auto mt-4 mb-4"})})}),Object(Ot.jsxs)(vt.a,{className:"pl-md-5 pr-md-5 pl-xs-2 pr-xs-2 mt-3",children:[Object(Ot.jsxs)(Nt.a,{xs:"12",children:[Object(Ot.jsx)("p",{className:"h4 text-danger",children:this.props.error}),Object(Ot.jsxs)(Nn.a,{children:[Object(Ot.jsx)(Gt.a,{children:Object(Ot.jsx)(Rt.a,{type:"text",name:"username",id:"username",placeholder:"Username",value:this.state.username,onChange:this.handleUsernameChange})}),Object(Ot.jsx)(Gt.a,{children:Object(Ot.jsx)(Rt.a,{type:"password",name:"password",id:"password",placeholder:"Password",value:this.state.password,onChange:this.handlePasswordChange})}),Object(Ot.jsx)(Et.a,{color:"info",disabled:this.props.loggingIn,onClick:function(){return e.props.loginOSA(e.state.username,e.state.password)},className:"bg-color-main-ui w-50 rounded-pill mt-3 mb-4",children:"Login OSA"}),Object(Ot.jsx)("br",{}),Object(Ot.jsx)(Et.a,{color:"info",disabled:this.props.loggingIn,onClick:this.handleSubmit,className:"bg-color-main-ui w-50 rounded-pill",children:"Login"})]})]}),this.props.loggingIn?Object(Ot.jsx)(Nt.a,{xs:"12",children:Object(Ot.jsx)(Pt,{margin:"my-2"})}):Object(Ot.jsx)(Ot.Fragment,{children:Object(Ot.jsxs)(Nt.a,{xs:"12",children:[Object(Ot.jsx)("p",{children:"Not Registered Yet?"}),Object(Ot.jsx)("a",{href:"http://osa.iiitd.edu.in/",target:"_blank",rel:"noreferrer",children:Object(Ot.jsx)(Et.a,{color:"info",className:"bg-color-main-ui w-50 rounded-pill mb-3",children:"Sign Up"})})]})})]})]})]})})}}]),n}(a.Component),kn=Object(o.h)(Object(l.b)((function(e){return{authorized:e.user.authorized,loggingIn:e.user.loggingIn,error:e.user.error}}),(function(e){return{login:function(t,n){e(function(e,t){return function(n){return n(Ie(!0)),Te()(Ee+"rest-auth/login/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}).then((function(e){if(!e.ok)throw Error("Error occurred!");return e})).then((function(e){return e.json()})).then((function(e){var t=e.key;n(Ce(t)),n(Ie(!1))})).catch((function(e){console.log(e),n(Ie(!1)),n(De(e.message))}))}}(t,n))},loginOSA:function(t,n){e(function(e,t){return function(n){return n(Ie(!0)),Te()(Ee+"auth/login/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}).then((function(e){if(!e.ok)throw Error("Error occurred!");return e})).then((function(e){return e.json()})).then((function(e){var t=e.key;n(Ce(t)),n(Ie(!1))})).catch((function(e){console.log(e),n(Ie(!1)),n(De(e.message))}))}}(t,n))}}}))(yn));var wn=function(e){return Object(Ot.jsx)(ft.a,{className:"my-5",children:Object(Ot.jsxs)(vt.a,{className:"rounded-3 shadow",children:[Object(Ot.jsx)(Nt.a,{md:"6",className:"d-none d-md-flex p-0",children:Object(Ot.jsx)("img",{src:"assets/login.jpg",alt:"banner",className:"d-flex mx-auto w-100 h-100 rounded-left-3"})}),Object(Ot.jsxs)(Nt.a,{md:"6",xs:"12",children:[Object(Ot.jsx)(vt.a,{children:Object(Ot.jsx)(Nt.a,{xs:"12",className:"d-flex mt-4",children:Object(Ot.jsx)("img",{src:"IIITDLogo.png",alt:"IIITD Logo",className:"w-25 mt-3 d-flex m-auto"})})}),Object(Ot.jsxs)(vt.a,{className:"pl-md-5 pr-md-5 pl-xs-2 pr-xs-2 mt-3",children:[Object(Ot.jsx)(Nt.a,{xs:"12",children:Object(Ot.jsxs)(Nn.a,{children:[Object(Ot.jsx)(Gt.a,{children:Object(Ot.jsx)(Rt.a,{type:"text",name:"Name",id:"fullname",placeholder:"Full Name"})}),Object(Ot.jsx)(Gt.a,{children:Object(Ot.jsx)(Rt.a,{type:"email",name:"email",id:"email",placeholder:"Email"})}),Object(Ot.jsx)(Gt.a,{children:Object(Ot.jsx)(Rt.a,{type:"password",name:"password",id:"password",placeholder:"Password"})}),Object(Ot.jsx)(Et.a,{color:"info",className:"bg-color-main-ui rounded-pill w-50 mt-3 mb-4",children:"Register"})]})}),Object(Ot.jsxs)(Nt.a,{xs:"12",children:[Object(Ot.jsx)("p",{children:"Already Registered?"}),Object(Ot.jsx)(r.b,{to:"/login",children:Object(Ot.jsx)(Et.a,{color:"info",className:"bg-color-main-ui rounded-pill w-50  mb-3",children:"Login"})})]}),Object(Ot.jsx)(Nt.a,{xs:"12",children:Object(Ot.jsx)("hr",{})}),Object(Ot.jsx)(Nt.a,{children:Object(Ot.jsxs)(Et.a,{outline:!0,color:"danger",className:"w-100 rounded-pill mt-3 mb-4",children:[Object(Ot.jsx)("i",{className:"fa fa-lg fa-google mr-3","aria-hidden":"true"}),"Continue With Google"]})})]})]})]})})},Sn=n(51),An=n(421),En={title:"",description:"",institution:1,dateofachievement:"",team:[],teamInput:"",teamAdding:!1,teamInputErr:"",tags:[],tagsInput:"",tagsAdding:!1,tagsInputErr:"",category:0,type:!1,proof:null,file:null,progress:0,isModalOpen:!1},Ln=function(e){Object(St.a)(n,e);var t=Object(At.a)(n);function n(e){var a;return Object(kt.a)(this,n),(a=t.call(this,e)).state=En,e.edit&&(a.state.title=e.achievementDetails.title,a.state.description=e.achievementDetails.description,a.state.institution=e.achievementDetails.institution,a.state.dateofachievement=e.achievementDetails.achievedDate,a.state.category=e.achievementDetails.category,a.state.proof=e.achievementDetails.proof,e.achievementDetails.tags&&(a.state.tags=e.achievementDetails.tags),e.achievementDetails.teamMembers&&(a.state.team=e.achievementDetails.teamMembers)),a.handleInputChange=a.handleInputChange.bind(Object(vn.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(vn.a)(a)),a.addTeamMember=a.addTeamMember.bind(Object(vn.a)(a)),a.addTag=a.addTag.bind(Object(vn.a)(a)),a.addTeamMember=a.addTeamMember.bind(Object(vn.a)(a)),a.removeFromList=a.removeFromList.bind(Object(vn.a)(a)),a.clearState=a.clearState.bind(Object(vn.a)(a)),a.handleFileChange=a.handleFileChange.bind(Object(vn.a)(a)),a}return Object(wt.a)(n,[{key:"clearState",value:function(){this.setState(En)}},{key:"handleInputChange",value:function(e){var t,n=e.target,a=n.value,c=n.name;this.setState((t={},Object(Sn.a)(t,c,a),Object(Sn.a)(t,c+"Err",""),t)),this.props.addAchievementPostingMessage&&this.props.addAchievementPostingMessageClear()}},{key:"handleFileChange",value:function(e){e.target.files[0]&&this.setState({file:e.target.files[0]})}},{key:"handleSubmit",value:function(e){console.log("Submit detected."),this.props.edit?this.props.patchAchievement(this.props.token,this.state,this.clearState,this.props.achievementDetails.id):this.props.postNewAchievement(this.props.token,this.state,this.clearState),e.preventDefault()}},{key:"componentDidMount",value:function(){this.props.studentsLoading||this.props.studentsList||this.props.fetchStudentsList(this.props.token),this.props.tagsLoading||this.props.tagsList||this.props.fetchTagsList(this.props.token),this.props.institutesLoading||this.props.institutesList||this.props.fetchInstitutesList(this.props.token)}},{key:"addTeamMember",value:function(){var e=this;this.setState({teamAdding:!0});var t=this.props.studentsList.find((function(t){return t.user__email===e.state.teamInput})),n=void 0!==t;console.log(this.props.studentsList),n&&-1===this.state.team.indexOf(t)?this.setState({team:[].concat(Object(oe.a)(this.state.team),[t]),teamInput:""}):-1!==this.state.team.indexOf(t)?this.setState({teamInputErr:"Team member already added!"}):this.setState({teamInputErr:"No such student found in our database!"}),this.setState({teamAdding:!1})}},{key:"capitalize",value:function(e){return e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" ")}},{key:"addTag",value:function(){var e=this;this.setState({tagsAdding:!0});var t=this.props.tagsList.find((function(t){return t.title.toUpperCase()===e.state.tagsInput.toUpperCase()})),n=void 0!==t,a=!1;console.log(this.props.tagsList,this.state.tagsInput,t),n&&-1===this.state.tags.indexOf(t)?this.setState({tags:[].concat(Object(oe.a)(this.state.tags),[t]),tagsInput:""}):-1!==this.state.tags.indexOf(t)?this.setState({tagsInput:"Tag Already Added!"}):(a=!0,this.props.postTag(this.props.token,this.capitalize(this.state.tagsInput),(function(t){e.setState({tags:[].concat(Object(oe.a)(e.state.tags),[t]),tagsInput:"",tagsAdding:!1})}),(function(t){e.setState({tagsInputErr:t,tagsAdding:!1})}))),a||this.setState({tagsAdding:!1})}},{key:"removeFromList",value:function(e,t){var n=this.state[e],a=n.indexOf(t);n.splice(a,1),this.setState(Object(Sn.a)({},e,n))}},{key:"render",value:function(){var e=this;return this.props.authorized?Object(Ot.jsxs)(ft.a,{className:"my-5 bg-color-lightest-grey p-4 p-md-5 rounded-3",children:[Object(Ot.jsxs)("h2",{className:"font-weight-bold text-center",children:[this.props.edit?"Edit":"Add"," Achievement"]}),Object(Ot.jsxs)(Nn.a,{className:"mt-5",onSubmit:this.handleSubmit,children:[Object(Ot.jsxs)(vt.a,{className:"form-group",children:[Object(Ot.jsx)(Bt.a,{htmlFor:"title",md:3,children:Object(Ot.jsx)("h4",{className:"font-weight-bold",children:"Title"})}),Object(Ot.jsx)(Nt.a,{md:9,children:Object(Ot.jsx)(Rt.a,{type:"text",value:this.state.title,onChange:this.handleInputChange,name:"title",placeholder:"Enter title",className:"w-100"})})]}),Object(Ot.jsxs)(vt.a,{className:"form-group",children:[Object(Ot.jsx)(Bt.a,{htmlFor:"description",md:3,children:Object(Ot.jsx)("h4",{className:"font-weight-bold",children:"Description"})}),Object(Ot.jsx)(Nt.a,{md:9,children:Object(Ot.jsx)(Rt.a,{type:"textarea",value:this.state.description,onChange:this.handleInputChange,name:"description",placeholder:"Enter description",className:"w-100 px-2"})})]}),Object(Ot.jsxs)(vt.a,{className:"form-group",children:[Object(Ot.jsx)(Bt.a,{htmlFor:"category",md:3,children:Object(Ot.jsx)("h4",{className:"font-weight-bold",children:"Category"})}),Object(Ot.jsx)(Nt.a,{md:9,children:Object(Ot.jsx)(Rt.a,{type:"select",name:"category",value:this.state.category,onChange:this.handleInputChange,className:"w-100",children:Object(Ot.jsx)(Ot.Fragment,{children:this.props.awardCategory.map((function(e){return Object(Ot.jsx)("option",{value:e.id,children:e.title})}))})})})]}),Object(Ot.jsxs)(vt.a,{className:"form-group",children:[Object(Ot.jsx)(Bt.a,{htmlFor:"type",md:3,children:Object(Ot.jsx)("h4",{className:"font-weight-bold",children:"Type"})}),Object(Ot.jsx)(Nt.a,{md:9,children:Object(Ot.jsxs)(Rt.a,{type:"select",name:"type",value:this.state.type,onChange:this.handleInputChange,className:"w-100",children:[Object(Ot.jsx)("option",{value:!0,children:"Technical"}),Object(Ot.jsx)("option",{value:!1,children:"Non Technical"})]})})]}),Object(Ot.jsxs)(vt.a,{className:"form-group",children:[Object(Ot.jsx)(Bt.a,{htmlFor:"institution",md:3,children:Object(Ot.jsx)("h4",{className:"font-weight-bold",children:"Institution"})}),Object(Ot.jsxs)(Nt.a,{md:9,children:[Object(Ot.jsx)(Rt.a,{type:"select",name:"institution",value:this.state.institution,onChange:this.handleInputChange,className:"w-100",disabled:this.props.institutesLoading,children:Object(Ot.jsx)(Ot.Fragment,{children:this.props.institutesList?this.props.institutesList.map((function(e){return Object(Ot.jsx)("option",{value:e.id,children:e.title})})):Object(Ot.jsx)(Ot.Fragment,{})})}),Object(Ot.jsx)(an,{isModalOpen:this.state.isModalOpen,setIsModalOpen:function(t){return e.setState({isModalOpen:t})}}),Object(Ot.jsx)(Et.a,{color:"link",onClick:function(){return e.setState({isModalOpen:!0})},className:"mt-2",children:"Can't find your institute? Click here to add institute."})]})]}),Object(Ot.jsxs)(vt.a,{className:"form-group",children:[Object(Ot.jsx)(Bt.a,{htmlFor:"dateofachievement",md:3,children:Object(Ot.jsx)("h4",{className:"font-weight-bold",children:"Date of Achievement"})}),Object(Ot.jsx)(Nt.a,{md:3,className:"d-flex",children:Object(Ot.jsx)(Rt.a,{type:"date",name:"dateofachievement",value:this.state.dateofachievement,onChange:this.handleInputChange,className:"d-flex my-auto"})})]}),Object(Ot.jsxs)(vt.a,{className:"form-group",children:[Object(Ot.jsx)(Bt.a,{htmlFor:"teamInput",md:3,children:Object(Ot.jsx)("h4",{className:"font-weight-bold",children:"Team Members"})}),Object(Ot.jsx)(Nt.a,{md:9,children:Object(Ot.jsxs)(vt.a,{children:[Object(Ot.jsxs)(Nt.a,{xs:7,md:8,lg:9,children:[Object(Ot.jsx)(Rt.a,{type:"email",name:"teamInput",value:this.state.teamInput,onChange:this.handleInputChange,placeholder:"Enter team member's email ID"}),Object(Ot.jsx)("p",{className:"text-danger m-0 px-2",children:this.state.teamInputErr})]}),Object(Ot.jsx)(Nt.a,{xs:5,md:4,lg:3,className:"pl-0",children:Object(Ot.jsx)(Et.a,{color:"info",className:"w-100",onClick:this.addTeamMember,disabled:this.props.studentsLoading||this.state.teamAdding,children:"Add Member"})}),Object(Ot.jsx)(Nt.a,{xs:12,className:"mt-1",children:Object(Ot.jsx)("div",{className:"box w-100",children:this.state.team.map((function(t){return Object(Ot.jsxs)("div",{className:"rounded-pill p-2 pl-3 mr-2 mt-2 bg-color-off-white d-inline-block",children:[t.user__email,Object(Ot.jsx)(Et.a,{className:"rounded-circle ml-3",size:"sm",color:"danger",onClick:function(){return e.removeFromList("team",t)},children:Object(Ot.jsx)("i",{className:"fa fa-times"})})]})}))})})]})})]}),Object(Ot.jsxs)(vt.a,{className:"form-group",children:[Object(Ot.jsx)(Bt.a,{htmlFor:"tagsInput",md:3,children:Object(Ot.jsx)("h4",{className:"font-weight-bold",children:"Tags"})}),Object(Ot.jsx)(Nt.a,{md:9,children:Object(Ot.jsxs)(vt.a,{children:[Object(Ot.jsx)(Nt.a,{xs:7,md:8,lg:9,children:Object(Ot.jsx)(Rt.a,{type:"email",name:"tagsInput",value:this.state.tagsInput,onChange:this.handleInputChange,placeholder:"Enter tags"})}),Object(Ot.jsx)(Nt.a,{xs:5,md:4,lg:3,className:"pl-0",children:Object(Ot.jsx)(Et.a,{color:"info",className:"w-100",onClick:this.addTag,disabled:this.props.tagsLoading||this.state.tagsAdding,children:"Add Tag"})}),Object(Ot.jsx)(Nt.a,{xs:12,className:"mt-1",children:Object(Ot.jsx)("div",{className:"box w-100",children:this.state.tags.map((function(t){return Object(Ot.jsxs)("div",{className:"rounded-pill p-2 pl-3 mr-2 mt-2 bg-color-off-white d-inline-block",children:[t.title,Object(Ot.jsx)(Et.a,{className:"rounded-circle ml-3",size:"sm",color:"danger",onClick:function(){return e.removeFromList("tags",t)},children:Object(Ot.jsx)("i",{className:"fa fa-times"})})]})}))})})]})})]}),Object(Ot.jsxs)(vt.a,{className:"form-group",children:[Object(Ot.jsx)(Bt.a,{md:3,children:Object(Ot.jsx)("h4",{className:"font-weight-bold",children:"Proof"})}),Object(Ot.jsx)(Nt.a,{md:9,children:Object(Ot.jsx)(An.a,{type:"file",id:"proof",name:"proof",onChange:this.handleFileChange})})]}),Object(Ot.jsxs)(vt.a,{children:[Object(Ot.jsxs)(Nt.a,{xs:"12",children:[Object(Ot.jsx)(Et.a,{color:"success",className:"mr-3",disabled:this.props.addAchievementPosting,children:"Request for Approval"}),Object(Ot.jsx)(Et.a,{color:"danger",onClick:this.clearState,disabled:this.props.addAchievementPosting,children:"Clear Form"})]}),Object(Ot.jsx)(Nt.a,{xs:"12",className:"mt-2",children:Object(Ot.jsx)("h6",{className:"".concat(this.props.addAchievementPostingError?"text-danger":"text-success"),children:this.props.addAchievementPostingMessage})})]})]})]}):Object(Ot.jsx)(o.a,{to:"/login"})}}]),n}(a.Component),Tn=Object(o.h)(Object(l.b)((function(e){return{authorized:e.user.authorized,token:e.user.token,studentsList:e.forms.studentsList,studentsLoading:e.forms.studentsLoading,institutesList:e.forms.institutesList,institutesLoading:e.forms.institutesLoading,tagsList:e.forms.tagsList,tagsLoading:e.forms.tagsLoading,awardCategory:e.forms.awardCategory,addAchievementPosting:e.forms.addAchievementPosting,addAchievementPostingError:e.forms.addAchievementPostingError,addAchievementPostingMessage:e.forms.addAchievementPostingMessage}}),(function(e){return{fetchStudentsList:function(t){return e(Ge(t))},fetchInstitutesList:function(t){return e(He(t))},fetchTagsList:function(t){return e(Ye(t))},postNewAchievement:function(t,n,a){return e(function(e,t,n){return function(a){a(et(!0));var c="Token "+e,s={title:t.title,description:t.description,institution:t.institution,achievedDate:t.dateofachievement,teamMembers:t.team.map((function(e){return e.id})),tags:t.tags.map((function(e){return e.id})),category:t.category};Te()(Ee+"main/api/achievement/",{method:"POST",headers:{Authorization:c,"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(e){if(!e.ok)throw new Error("There was a problem adding this achievement!");return e})).then((function(e){return e.json()})).then((function(n){return console.log(n,n.id),t.file&&at(e,n.id,t.file),n})).then((function(e){return n(),a(nt("Your achivement has been posted! Wait for the admin to approve it.")),e})).catch((function(e){console.log(e),a(tt(e.message))}))}}(t,n,a))},patchAchievement:function(t,n,a,c){return e(function(e,t,n,a){return function(c){c(et(!0));var s="Token "+e,i={title:t.title,description:t.description,institution:t.institution.id?t.institution.id:t.institution,achievedDate:t.dateofachievement,teamMembers:t.team.map((function(e){return e.id})),tags:t.tags.map((function(e){return e.id})),category:t.category};Te()(Ee+"main/api/achievement/"+a+"/",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:s},body:JSON.stringify(i)}).then((function(e){if(!e.ok)throw new Error("There was a problem saving this achievement!");return console.log(e),e})).then((function(e){return e.json()})).then((function(n){return t.file&&at(e,n.id,t.file),n})).then((function(e){return n(),c(nt("Your achivement has been saved! Wait for the admin to approve it.")),e})).catch((function(e){console.log(e),c(tt(e.message))}))}}(t,n,a,c))},addAchievementPostingMessageClear:function(){return e(nt(""))},postTag:function(t,n,a,c){return e(Xe(t,n,a,c))}}}))(Ln)),Pn={title:"",description:"",institution:1,startdate:"",enddate:"",field:"",domain:"",mentors:[],mentorsInput:"",mentorAdding:!1,mentorsInputErr:"",team:[],teamInput:"",teamAdding:!1,teamInputErr:"",tags:[],tagsInput:"",tagsAdding:!1,tagsInputErr:"",category:0,type:!1,url:null,progress:0,isModalOpen:!1},Cn=function(e){Object(St.a)(n,e);var t=Object(At.a)(n);function n(e){var a;return Object(kt.a)(this,n),(a=t.call(this,e)).state=Pn,e.edit&&(a.state.title=e.projectDetails.title,a.state.description=e.projectDetails.description,a.state.institution=e.projectDetails.institution,a.state.startdate=e.projectDetails.startDate,a.state.enddate=e.projectDetails.endDate,a.state.field=e.projectDetails.field,a.state.domain=e.projectDetails.domain,a.state.url=e.projectDetails.url,e.projectDetails.tags&&(a.state.tags=e.projectDetails.tags),e.projectDetails.mentors&&(a.state.mentors=e.projectDetails.mentors),e.projectDetails.members&&(a.state.members=e.projectDetails.members)),a.handleInputChange=a.handleInputChange.bind(Object(vn.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(vn.a)(a)),a.addTeamMember=a.addTeamMember.bind(Object(vn.a)(a)),a.addMentor=a.addMentor.bind(Object(vn.a)(a)),a.addTag=a.addTag.bind(Object(vn.a)(a)),a.addTeamMember=a.addTeamMember.bind(Object(vn.a)(a)),a.removeFromList=a.removeFromList.bind(Object(vn.a)(a)),a.clearState=a.clearState.bind(Object(vn.a)(a)),a}return Object(wt.a)(n,[{key:"clearState",value:function(){this.setState(Pn)}},{key:"handleInputChange",value:function(e){var t,n=e.target,a=n.value,c=n.name;this.setState((t={},Object(Sn.a)(t,c,a),Object(Sn.a)(t,c+"Err",""),t)),this.props.addProjectPostingMessage&&this.props.addProjectPostingMessageClear()}},{key:"handleSubmit",value:function(e){console.log("Submit detected."),this.props.edit?this.props.patchProject(this.props.token,this.state,this.clearState,this.props.projectDetails.id):this.props.postNewProject(this.props.token,this.state,this.clearState),e.preventDefault()}},{key:"componentDidMount",value:function(){this.props.professorsLoading||this.props.professorsList||this.props.fetchProfessorsList(this.props.token),this.props.studentsLoading||this.props.studentsList||this.props.fetchStudentsList(this.props.token),this.props.tagsLoading||this.props.tagsList||this.props.fetchTagsList(this.props.token),this.props.institutesLoading||this.props.institutesList||this.props.fetchInstitutesList(this.props.token)}},{key:"addTeamMember",value:function(){var e=this;this.setState({teamAdding:!0});var t=this.props.studentsList.find((function(t){return t.user__email===e.state.teamInput})),n=void 0!==t;console.log(this.props.studentsList),n&&-1===this.state.team.indexOf(t)?this.setState({team:[].concat(Object(oe.a)(this.state.team),[t]),teamInput:""}):-1!==this.state.team.indexOf(t)?this.setState({teamInputErr:"Team member already added!"}):this.setState({teamInputErr:"No such student found in our database!"}),this.setState({teamAdding:!1})}},{key:"addMentor",value:function(){var e=this;this.setState({mentorAdding:!0});var t=this.props.professorsList.find((function(t){return t.user__email===e.state.mentorsInput}));void 0!==t&&-1===this.state.mentors.indexOf(t)?this.setState({mentors:[].concat(Object(oe.a)(this.state.mentors),[t]),mentorsInput:""}):-1!==this.state.mentors.indexOf(t)?this.setState({mentorsInputErr:"Mentor already added!"}):this.setState({mentorsInputErr:"No such mentor found in our database!"}),this.setState({mentorAdding:!1})}},{key:"capitalize",value:function(e){return e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" ")}},{key:"addTag",value:function(){var e=this;this.setState({tagsAdding:!0});var t=this.props.tagsList.find((function(t){return t.title.toUpperCase()===e.state.tagsInput.toUpperCase()})),n=void 0!==t,a=!1;console.log(this.props.tagsList,this.state.tagsInput,t),n&&-1===this.state.tags.indexOf(t)?this.setState({tags:[].concat(Object(oe.a)(this.state.tags),[t]),tagsInput:""}):-1!==this.state.tags.indexOf(t)?this.setState({tagsInput:"Tag Already Added!"}):(a=!0,this.props.postTag(this.props.token,this.capitalize(this.state.tagsInput),(function(t){e.setState({tags:[].concat(Object(oe.a)(e.state.tags),[t]),tagsInput:"",tagsAdding:!1})}),(function(t){e.setState({tagsInputErr:t,tagsAdding:!1})}))),a||this.setState({tagsAdding:!1})}},{key:"removeFromList",value:function(e,t){var n=this.state[e],a=n.indexOf(t);n.splice(a,1),this.setState(Object(Sn.a)({},e,n))}},{key:"render",value:function(){var e=this;return this.props.authorized?Object(Ot.jsxs)(ft.a,{className:"my-5 bg-color-lightest-grey p-4 p-md-5 rounded-3",children:[Object(Ot.jsxs)("h2",{className:"font-weight-bold text-center",children:[this.props.edit?"Edit":"Add"," Project"]}),Object(Ot.jsxs)(Nn.a,{className:"mt-5",onSubmit:this.handleSubmit,children:[Object(Ot.jsxs)(vt.a,{className:"form-group",children:[Object(Ot.jsx)(Bt.a,{htmlFor:"title",md:3,children:Object(Ot.jsx)("h4",{className:"font-weight-bold",children:"Title"})}),Object(Ot.jsx)(Nt.a,{md:9,children:Object(Ot.jsx)(Rt.a,{type:"text",value:this.state.title,onChange:this.handleInputChange,name:"title",placeholder:"Enter title",className:"w-100"})})]}),Object(Ot.jsxs)(vt.a,{className:"form-group",children:[Object(Ot.jsx)(Bt.a,{htmlFor:"description",md:3,children:Object(Ot.jsx)("h4",{className:"font-weight-bold",children:"Description"})}),Object(Ot.jsx)(Nt.a,{md:9,children:Object(Ot.jsx)(Rt.a,{type:"textarea",value:this.state.description,onChange:this.handleInputChange,name:"description",placeholder:"Enter description",className:"w-100 px-2"})})]}),Object(Ot.jsxs)(vt.a,{className:"form-group",children:[Object(Ot.jsx)(Bt.a,{htmlFor:"description",md:3,children:Object(Ot.jsx)("h4",{className:"font-weight-bold",children:"URL"})}),Object(Ot.jsx)(Nt.a,{md:9,children:Object(Ot.jsx)(Rt.a,{type:"text",value:this.state.url,onChange:this.handleInputChange,name:"url",placeholder:"Enter URL",className:"w-100 px-2"})})]}),Object(Ot.jsxs)(vt.a,{className:"form-group",children:[Object(Ot.jsx)(Bt.a,{htmlFor:"institution",md:3,children:Object(Ot.jsx)("h4",{className:"font-weight-bold",children:"Institution"})}),Object(Ot.jsxs)(Nt.a,{md:9,children:[Object(Ot.jsx)(Rt.a,{type:"select",name:"institution",value:this.state.institution,onChange:this.handleInputChange,className:"w-100",disabled:this.props.institutesLoading,children:Object(Ot.jsx)(Ot.Fragment,{children:this.props.institutesList?this.props.institutesList.map((function(e){return Object(Ot.jsx)("option",{value:e.id,children:e.title})})):Object(Ot.jsx)(Ot.Fragment,{})})}),Object(Ot.jsx)(an,{isModalOpen:this.state.isModalOpen,setIsModalOpen:function(t){return e.setState({isModalOpen:t})}}),Object(Ot.jsx)(Et.a,{color:"link",onClick:function(){return e.setState({isModalOpen:!0})},className:"mt-2",children:"Can't find your institute? Click here to add institute."})]})]}),Object(Ot.jsxs)(vt.a,{className:"form-group",children:[Object(Ot.jsx)(Bt.a,{htmlFor:"startdate",md:3,children:Object(Ot.jsx)("h4",{className:"font-weight-bold",children:"Duration"})}),Object(Ot.jsx)(Nt.a,{md:3,className:"d-flex",children:Object(Ot.jsx)(Rt.a,{type:"date",name:"startdate",value:this.state.startdate,onChange:this.handleInputChange,className:"d-flex my-auto"})}),Object(Ot.jsx)(Bt.a,{htmlFor:"enddate",md:1,className:"d-flex",children:Object(Ot.jsx)("h4",{className:"font-weight-bold d-flex m-auto",children:"to"})}),Object(Ot.jsx)(Nt.a,{md:3,className:"d-flex",children:Object(Ot.jsx)(Rt.a,{type:"date",name:"enddate",value:this.state.enddate,onChange:this.handleInputChange,className:"d-flex my-auto"})})]}),Object(Ot.jsxs)(vt.a,{className:"form-group",children:[Object(Ot.jsx)(Bt.a,{htmlFor:"field",md:3,children:Object(Ot.jsx)("h4",{className:"font-weight-bold",children:"Field"})}),Object(Ot.jsx)(Nt.a,{md:3,className:"d-flex",children:Object(Ot.jsx)(Rt.a,{type:"text",name:"field",value:this.state.field,placeholder:"Enter field",onChange:this.handleInputChange,className:"d-flex my-auto"})}),Object(Ot.jsx)(Bt.a,{htmlFor:"domain",md:3,className:"d-flex",children:Object(Ot.jsx)("h4",{className:"font-weight-bold d-md-flex m-md-auto",children:"Domain"})}),Object(Ot.jsx)(Nt.a,{md:3,className:"d-flex",children:Object(Ot.jsx)(Rt.a,{type:"text",name:"domain",value:this.state.domain,placeholder:"Enter domain",onChange:this.handleInputChange,className:"d-flex my-auto"})})]}),Object(Ot.jsxs)(vt.a,{className:"form-group",children:[Object(Ot.jsx)(Bt.a,{htmlFor:"mentorsInput",md:3,children:Object(Ot.jsx)("h4",{className:"font-weight-bold",children:"Mentors"})}),Object(Ot.jsx)(Nt.a,{md:9,children:Object(Ot.jsxs)(vt.a,{children:[Object(Ot.jsxs)(Nt.a,{xs:7,md:8,lg:9,children:[Object(Ot.jsx)(Rt.a,{type:"email",name:"mentorsInput",value:this.state.mentorsInput,onChange:this.handleInputChange,placeholder:"Enter mentor's email ID"}),Object(Ot.jsx)("p",{className:"text-danger m-0 px-2",children:this.state.mentorsInputErr})]}),Object(Ot.jsx)(Nt.a,{xs:5,md:4,lg:3,className:"pl-0",children:Object(Ot.jsx)(Et.a,{color:"info",className:"w-100",onClick:this.addMentor,disabled:this.props.professorsLoading||this.state.mentorAdding,children:"Add Mentor"})}),Object(Ot.jsx)(Nt.a,{xs:12,className:"mt-1",children:Object(Ot.jsx)("div",{className:"box w-100",children:this.state.mentors.map((function(t){return Object(Ot.jsxs)("div",{className:"rounded-pill p-2 pl-3 mr-2 mt-2 bg-color-off-white d-inline-block",children:[t.user__email,Object(Ot.jsx)(Et.a,{className:"rounded-circle ml-3",size:"sm",color:"danger",onClick:function(){return e.removeFromList("mentors",t)},children:Object(Ot.jsx)("i",{className:"fa fa-times"})})]})}))})})]})})]}),Object(Ot.jsxs)(vt.a,{className:"form-group",children:[Object(Ot.jsx)(Bt.a,{htmlFor:"teamInput",md:3,children:Object(Ot.jsx)("h4",{className:"font-weight-bold",children:"Team Members"})}),Object(Ot.jsx)(Nt.a,{md:9,children:Object(Ot.jsxs)(vt.a,{children:[Object(Ot.jsxs)(Nt.a,{xs:7,md:8,lg:9,children:[Object(Ot.jsx)(Rt.a,{type:"email",name:"teamInput",value:this.state.teamInput,onChange:this.handleInputChange,placeholder:"Enter team member's email ID"}),Object(Ot.jsx)("p",{className:"text-danger m-0 px-2",children:this.state.teamInputErr})]}),Object(Ot.jsx)(Nt.a,{xs:5,md:4,lg:3,className:"pl-0",children:Object(Ot.jsx)(Et.a,{color:"info",className:"w-100",onClick:this.addTeamMember,disabled:this.props.studentsLoading||this.state.teamAdding,children:"Add Member"})}),Object(Ot.jsx)(Nt.a,{xs:12,className:"mt-1",children:Object(Ot.jsx)("div",{className:"box w-100",children:this.state.team.map((function(t){return Object(Ot.jsxs)("div",{className:"rounded-pill p-2 pl-3 mr-2 mt-2 bg-color-off-white d-inline-block",children:[t.user__email,Object(Ot.jsx)(Et.a,{className:"rounded-circle ml-3",size:"sm",color:"danger",onClick:function(){return e.removeFromList("team",t)},children:Object(Ot.jsx)("i",{className:"fa fa-times"})})]})}))})})]})})]}),Object(Ot.jsxs)(vt.a,{className:"form-group",children:[Object(Ot.jsx)(Bt.a,{htmlFor:"tagsInput",md:3,children:Object(Ot.jsx)("h4",{className:"font-weight-bold",children:"Tags"})}),Object(Ot.jsx)(Nt.a,{md:9,children:Object(Ot.jsxs)(vt.a,{children:[Object(Ot.jsx)(Nt.a,{xs:7,md:8,lg:9,children:Object(Ot.jsx)(Rt.a,{type:"email",name:"tagsInput",value:this.state.tagsInput,onChange:this.handleInputChange,placeholder:"Enter tags"})}),Object(Ot.jsx)(Nt.a,{xs:5,md:4,lg:3,className:"pl-0",children:Object(Ot.jsx)(Et.a,{color:"info",className:"w-100",onClick:this.addTag,disabled:this.props.tagsLoading||this.state.tagsAdding,children:"Add Tag"})}),Object(Ot.jsx)(Nt.a,{xs:12,className:"mt-1",children:Object(Ot.jsx)("div",{className:"box w-100",children:this.state.tags.map((function(t){return Object(Ot.jsxs)("div",{className:"rounded-pill p-2 pl-3 mr-2 mt-2 bg-color-off-white d-inline-block",children:[t.title,Object(Ot.jsx)(Et.a,{className:"rounded-circle ml-3",size:"sm",color:"danger",onClick:function(){return e.removeFromList("tags",t)},children:Object(Ot.jsx)("i",{className:"fa fa-times"})})]})}))})})]})})]}),Object(Ot.jsxs)(vt.a,{children:[Object(Ot.jsxs)(Nt.a,{xs:"12",children:[Object(Ot.jsx)(Et.a,{color:"success",className:"mr-3",disabled:this.props.addProjectPosting,children:"Request for Approval"}),Object(Ot.jsx)(Et.a,{color:"danger",onClick:this.clearState,disabled:this.props.addProjectPosting,children:"Clear Form"})]}),Object(Ot.jsx)(Nt.a,{xs:"12",className:"mt-2",children:Object(Ot.jsx)("h6",{className:"".concat(this.props.addProjectPostingError?"text-danger":"text-success"),children:this.props.addProjectPostingMessage})})]})]})]}):Object(Ot.jsx)(o.a,{to:"/login"})}}]),n}(a.Component),In=Object(o.h)(Object(l.b)((function(e){return{authorized:e.user.authorized,token:e.user.token,professorsList:e.forms.professorsList,professorsLoading:e.forms.professorsLoading,studentsList:e.forms.studentsList,studentsLoading:e.forms.studentsLoading,institutesList:e.forms.institutesList,institutesLoading:e.forms.institutesLoading,tagsList:e.forms.tagsList,tagsLoading:e.forms.tagsLoading,addProjectPosting:e.forms.addProjectPosting,addProjectPostingError:e.forms.addProjectPostingError,addProjectPostingMessage:e.forms.addProjectPostingMessage}}),(function(e){return{fetchStudentsList:function(t){return e(Ge(t))},fetchProfessorsList:function(t){return e(function(e){return function(t){t(Je(!0));var n="Token "+e;Te()(Ee+"main/api/get-professors",{method:"GET",headers:{"Content-Type":"application/json",Authorization:n}}).then((function(e){return e.json()})).then((function(e){t(Ve(e.professors))})).catch((function(e){console.log(e),t(Je(!1))}))}}(t))},fetchInstitutesList:function(t){return e(He(t))},fetchTagsList:function(t){return e(Ye(t))},postNewProject:function(t,n,a){return e(function(e,t,n){return function(a){a(ct(!0));var c="Token "+e,s={title:t.title,description:t.description,institution:t.institution,startDate:t.startdate,endDate:t.enddate,field:t.field,domain:t.domain,url:t.url,students:t.team.map((function(e){return e.id})),mentors:t.mentors.map((function(e){return e.id})),tags:t.tags.map((function(e){return e.id})),proof:t.proof};Te()(Ee+"main/api/project/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:c},body:JSON.stringify(s)}).then((function(e){if(!e.ok)throw new Error("There was a problem adding this project!");return console.log(e),e})).then((function(e){return e.json()})).then((function(e){return n(),a(it("Your project has been posted! Wait for the admin to approve it.")),e})).catch((function(e){console.log(e),a(st(e.message))}))}}(t,n,a))},patchProject:function(t,n,a,c){return e(function(e,t,n,a){return function(c){c(ct(!0));var s="Token "+e,i={title:t.title,description:t.description,institution:t.institution.id,startDate:t.startdate,endDate:t.enddate,field:t.field,domain:t.domain,url:t.url,students:t.team.map((function(e){return e.id})),mentors:t.mentors.map((function(e){return e.id})),tags:t.tags.map((function(e){return e.id})),proof:t.proof};Te()(Ee+"main/api/project/"+a+"/",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:s},body:JSON.stringify(i)}).then((function(e){if(!e.ok)throw new Error("There was a problem saving this project!");return console.log(e),e})).then((function(e){return e.json()})).then((function(e){return n(),c(it("Your project has been saved! Wait for the admin to approve it.")),e})).catch((function(e){console.log(e),c(st(e.message))}))}}(t,n,a,c))},addProjectPostingMessageClear:function(){return e(it(""))},postTag:function(t,n,a,c){return e(Xe(t,n,a,c))}}}))(Cn));function Dn(e){var t=e.arrayOfAchievements,n=e.deleteAchievement,a=e.token;return Object(Ot.jsxs)(Jt.a,{hover:!0,responsive:!0,className:"rounded-2",children:[Object(Ot.jsx)("thead",{children:Object(Ot.jsxs)("tr",{children:[Object(Ot.jsx)("th",{className:"text-color-main h5",children:"#"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Title"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Description"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Status"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Date"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Details"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Edit"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Delete"})]})}),Object(Ot.jsx)("tbody",{children:t.map((function(e){return Object(Ot.jsxs)("tr",{children:[Object(Ot.jsx)("th",{scope:"row",children:e.id}),Object(Ot.jsx)("td",{children:e.title}),Object(Ot.jsx)("td",{children:e.description}),Object(Ot.jsx)("td",{children:Object(Ot.jsx)("h5",{children:Object(Ot.jsx)(Zt,{value:e.approved})})}),Object(Ot.jsx)("td",{children:new Date(e.achievedDate).toLocaleString("default",{day:"2-digit",month:"short",year:"numeric"})}),Object(Ot.jsx)("td",{children:Object(Ot.jsx)(r.b,{to:"/achievement/"+e.id,children:Object(Ot.jsx)(Et.a,{color:"info",children:"View"})})}),Object(Ot.jsx)("td",{children:Object(Ot.jsx)(r.b,{to:"/editachievement/"+e.id,children:Object(Ot.jsx)(Et.a,{color:"secondary",disabled:"approved"===e.approved.toLowerCase(),children:"Edit"})})}),Object(Ot.jsx)("td",{children:Object(Ot.jsx)(Et.a,{onClick:function(){return n(a,e.id)},color:"danger",className:"w-100",disabled:e.deleting||e.deleted,children:e.deleted?Object(Ot.jsx)("i",{className:"fa fa-check w-100 text-center","aria-hidden":"true"}):Object(Ot.jsx)(Ot.Fragment,{children:"Delete"})})})]})}))})]})}function zn(e){var t=e.arrayofProjects,n=e.deleteProject,a=e.token;return Object(Ot.jsxs)(Jt.a,{hover:!0,responsive:!0,className:"rounded-2",children:[Object(Ot.jsx)("thead",{children:Object(Ot.jsxs)("tr",{children:[Object(Ot.jsx)("th",{className:"text-color-main h5",children:"#"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Title"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Description"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Status"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Start Date"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"End Date"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Details"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Edit"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Delete"})]})}),Object(Ot.jsx)("tbody",{children:t.map((function(e){return Object(Ot.jsxs)("tr",{children:[Object(Ot.jsx)("th",{scope:"row",children:e.id}),Object(Ot.jsx)("td",{children:e.title}),Object(Ot.jsx)("td",{children:e.description}),Object(Ot.jsx)("td",{children:Object(Ot.jsx)("h5",{children:Object(Ot.jsx)(Zt,{value:e.approved})})}),Object(Ot.jsx)("td",{children:new Date(e.startDate).toLocaleString("default",{day:"2-digit",month:"short",year:"numeric"})}),Object(Ot.jsx)("td",{children:new Date(e.endDate).toLocaleString("default",{day:"2-digit",month:"short",year:"numeric"})}),Object(Ot.jsx)("td",{children:Object(Ot.jsx)(r.b,{to:"/project/"+e.id,children:Object(Ot.jsx)(Et.a,{color:"info",children:"View"})})}),Object(Ot.jsx)("td",{children:Object(Ot.jsx)(r.b,{to:"/editproject/"+e.id,children:Object(Ot.jsx)(Et.a,{color:"secondary",disabled:"approved"===e.approved.toLowerCase(),children:"Edit"})})}),Object(Ot.jsx)("td",{children:Object(Ot.jsx)(Et.a,{onClick:function(){return n(a,e.id)},color:"danger",className:"w-100",disabled:e.deleting||e.deleting,children:e.deleted?Object(Ot.jsx)("i",{className:"fa fa-check w-100 text-center","aria-hidden":"true"}):Object(Ot.jsx)(Ot.Fragment,{children:"Delete"})})})]})}))})]})}var Mn=Object(o.h)(Object(l.b)((function(e){return{authorized:e.user.authorized,token:e.user.token,achievements:e.user.achievements}}),(function(e){return{fetchUserAchievements:function(t){return e(Me(t))},deleteAchievement:function(t,n){return e(pt(t,n))}}}))((function(e){return e.authorized?(e.achievements||e.fetchUserAchievements(e.token),console.log(e.token),Object(Ot.jsxs)(ft.a,{className:"p-4 p-md-5 mt-4 mb-4 bg-color-lightest-grey rounded-3",children:[Object(Ot.jsx)(vt.a,{children:Object(Ot.jsx)(Nt.a,{xs:"12 text-center",children:Object(Ot.jsx)("h2",{className:"font-weight-bold",children:"My Achievements"})})}),Object(Ot.jsx)(vt.a,{className:"mt-5",children:Object(Ot.jsx)(Nt.a,{xs:"12",className:"bg-color-off-white rounded-2",children:e.achievements?Object(Ot.jsx)(Dn,{arrayOfAchievements:e.achievements,deleteAchievement:e.deleteAchievement,token:e.token}):Object(Ot.jsx)(Pt,{})})})]})):Object(Ot.jsx)(o.a,{to:"/login"})})));var Fn=Object(o.h)(Object(l.b)((function(e){return{authorized:e.user.authorized,token:e.user.token,projects:e.user.projects}}),(function(e){return{fetchUserProjects:function(t){return e(Fe(t))},deleteProject:function(t,n){return e(ht(t,n))}}}))((function(e){return e.authorized?(e.projects||e.fetchUserProjects(e.token),Object(Ot.jsxs)(ft.a,{className:"p-4 p-md-5 mt-4 mb-4 bg-color-lightest-grey rounded-3",children:[Object(Ot.jsx)(vt.a,{children:Object(Ot.jsx)(Nt.a,{xs:"12 text-center",children:Object(Ot.jsx)("h2",{className:"font-weight-bold",children:"My Projects"})})}),Object(Ot.jsx)(vt.a,{className:"mt-5",children:Object(Ot.jsx)(Nt.a,{xs:"12",className:"bg-color-off-white rounded-2",children:e.projects?Object(Ot.jsx)(zn,{arrayofProjects:e.projects,deleteProject:e.deleteProject,token:e.token}):Object(Ot.jsx)(Pt,{})})})]})):Object(Ot.jsx)(o.a,{to:"/login"})})));var _n=Object(o.h)(Object(l.b)((function(e){return{authorized:e.user.authorized,token:e.user.token}}))((function(e){var t=Object(a.useState)(!1),n=Object(me.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(!1),r=Object(me.a)(i,2),l=r[0],d=r[1],j=Object(a.useState)(!1),h=Object(me.a)(j,2),u=h[0],b=h[1],m=Object(o.g)().achievementId;return Object(a.useEffect)((function(){c||l||u||(s(!0),$e(e.token,m,b,s,d))}),[c,l,u,e,m]),l?Object(Ot.jsx)(Ct,{}):Object(Ot.jsx)(ft.a,{className:"p-3 p-md-4 p-lg-5 mt-4 mb-4 bg-color-lightest-grey rounded-3",children:e.authorized?c?Object(Ot.jsx)(Pt,{}):Object(Ot.jsxs)(Ot.Fragment,{children:[Object(Ot.jsxs)(vt.a,{className:"mb-5",children:[Object(Ot.jsxs)(Nt.a,{xs:8,md:10,className:"d-flex",children:[Object(Ot.jsx)("h2",{className:"d-flex d-md-none m-auto font-weight-bold",children:"Achievement"}),Object(Ot.jsx)("h1",{className:"d-none d-md-flex m-auto font-weight-bold",children:"Achievement"})]}),Object(Ot.jsx)(Nt.a,{xs:4,md:2,className:"d-flex",children:Object(Ot.jsx)("img",{src:"/assets/medal.png",alt:"Medal",className:"d-flex m-auto",style:{maxHeight:"100%",maxWidth:"100%"}})})]}),Object(Ot.jsxs)(vt.a,{className:"mt-3",children:[Object(Ot.jsx)(Nt.a,{md:4,children:Object(Ot.jsx)("h3",{children:"AID"})}),Object(Ot.jsx)(Nt.a,{md:8,children:Object(Ot.jsx)("p",{className:"h4 text-black",children:u.id})})]}),Object(Ot.jsxs)(vt.a,{className:"mt-3",children:[Object(Ot.jsx)(Nt.a,{md:4,children:Object(Ot.jsx)("h3",{className:"text-color-main",children:"Status"})}),Object(Ot.jsx)(Nt.a,{md:8,children:Object(Ot.jsx)("h3",{children:Object(Ot.jsx)(Zt,{value:u.approved})})})]}),Object(Ot.jsxs)(vt.a,{className:"mt-3",children:[Object(Ot.jsx)(Nt.a,{md:4,children:Object(Ot.jsx)("h3",{className:"text-color-main",children:"Title"})}),Object(Ot.jsx)(Nt.a,{md:8,children:Object(Ot.jsx)("p",{className:"h4 text-black",children:u.title})})]}),Object(Ot.jsxs)(vt.a,{className:"mt-3",children:[Object(Ot.jsx)(Nt.a,{md:4,children:Object(Ot.jsx)("h3",{className:"text-color-main",children:"Institution"})}),Object(Ot.jsx)(Nt.a,{md:8,children:Object(Ot.jsx)("p",{className:"h4 text-black",children:u.institution?u.institution.title:""})})]}),Object(Ot.jsxs)(vt.a,{className:"mt-3",children:[Object(Ot.jsx)(Nt.a,{md:4,children:Object(Ot.jsx)("h3",{className:"text-color-main",children:"Added By"})}),Object(Ot.jsx)(Nt.a,{md:8,children:Object(Ot.jsx)(en,{user:u.addedBy})})]}),Object(Ot.jsxs)(vt.a,{className:"mt-3",children:[Object(Ot.jsx)(Nt.a,{md:4,children:Object(Ot.jsx)("h3",{className:"text-color-main",children:"Team Members"})}),Object(Ot.jsx)(Nt.a,{md:8,children:Object(Ot.jsx)("p",{className:"h4 text-black",children:u.members&&u.members.length>0?u.members.map((function(e){return Object(Ot.jsx)(en,{user:e})})):Object(Ot.jsx)(Ot.Fragment,{children:"None"})})})]}),Object(Ot.jsxs)(vt.a,{className:"mt-3",children:[Object(Ot.jsx)(Nt.a,{md:4,children:Object(Ot.jsx)("h3",{className:"text-color-main",children:"Mentors"})}),Object(Ot.jsx)(Nt.a,{md:8,children:Object(Ot.jsx)("p",{className:"h4 text-black",children:u.mentors&&u.mentors.length>0?u.mentors.map((function(e){return Object(Ot.jsx)(en,{user:e})})):Object(Ot.jsx)(Ot.Fragment,{children:"None"})})})]}),Object(Ot.jsxs)(vt.a,{className:"mt-3",children:[Object(Ot.jsx)(Nt.a,{md:4,children:Object(Ot.jsx)("h3",{className:"text-color-main",children:"Description"})}),Object(Ot.jsx)(Nt.a,{md:8,children:Object(Ot.jsx)("p",{className:"h4 text-black",children:u.description})})]}),Object(Ot.jsxs)(vt.a,{className:"mt-3",children:[Object(Ot.jsx)(Nt.a,{md:4,children:Object(Ot.jsx)("h3",{className:"text-color-main",children:"Technical"})}),Object(Ot.jsx)(Nt.a,{md:8,children:Object(Ot.jsx)("p",{className:"h4 text-black",children:u.technical?"Yes":"No"})})]}),Object(Ot.jsxs)(vt.a,{className:"mt-3",children:[Object(Ot.jsx)(Nt.a,{md:4,children:Object(Ot.jsx)("h3",{className:"text-color-main",children:"Date Created"})}),Object(Ot.jsx)(Nt.a,{md:8,children:Object(Ot.jsx)("p",{className:"h4 text-black",children:new Date(u.dateCreated).toLocaleString("default",{day:"2-digit",month:"short",year:"numeric"})})})]}),Object(Ot.jsxs)(vt.a,{className:"mt-3",children:[Object(Ot.jsx)(Nt.a,{md:4,children:Object(Ot.jsx)("h3",{className:"text-color-main",children:"Date Achieved"})}),Object(Ot.jsx)(Nt.a,{md:8,children:Object(Ot.jsx)("p",{className:"h4 text-black",children:new Date(u.achievedDate).toLocaleString("default",{day:"2-digit",month:"short",year:"numeric"})})})]}),Object(Ot.jsxs)(vt.a,{className:"mt-3",children:[Object(Ot.jsx)(Nt.a,{md:4,children:Object(Ot.jsx)("h3",{className:"text-color-main",children:"Tags"})}),Object(Ot.jsx)(Nt.a,{md:8,children:Object(Ot.jsx)("p",{className:"h4 text-black",children:u.tags&&u.tags.length>0?u.tags.map((function(e){return Object(Ot.jsx)(Ht.a,{color:"info",pill:!0,className:"mr-2 mb-2",children:e.title})})):Object(Ot.jsx)(Ot.Fragment,{children:"None"})})})]}),Object(Ot.jsxs)(vt.a,{className:"mt-3",children:[Object(Ot.jsx)(Nt.a,{md:4,children:Object(Ot.jsx)("h3",{className:"text-color-main",children:"Proof"})}),Object(Ot.jsx)(Nt.a,{md:8,children:u.files?u.files.map((function(e){return Object(Ot.jsx)("a",{href:Ae+e.file,target:"_blank",rel:"noreferrer",children:Object(Ot.jsx)(Et.a,{children:"View Proof"})})})):Object(Ot.jsx)(Ot.Fragment,{children:Object(Ot.jsx)("p",{className:"h4 text-black",children:"Not Available"})})})]}),Object(Ot.jsxs)(vt.a,{className:"mt-3 ".concat(u.feedback?"":"d-none"),children:[Object(Ot.jsx)(Nt.a,{md:4,children:Object(Ot.jsx)("h3",{className:"text-color-main",children:"Feedback by admin"})}),Object(Ot.jsx)(Nt.a,{md:8,children:Object(Ot.jsx)("p",{className:"h4 text-black",children:u.feedback})})]})]}):Object(Ot.jsx)(o.a,{to:"/login"})})})));var Rn=Object(o.h)(Object(l.b)((function(e){return{authorized:e.user.authorized,token:e.user.token}}))((function(e){var t=Object(a.useState)(!1),n=Object(me.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(!1),r=Object(me.a)(i,2),l=r[0],d=r[1],j=Object(a.useState)(!1),h=Object(me.a)(j,2),u=h[0],b=h[1],m=Object(o.g)().projectId;return Object(a.useEffect)((function(){c||l||u||(s(!0),Ze(e.token,m,b,s,d))}),[c,l,u,m,e.token]),l?Object(Ot.jsx)(Ct,{}):Object(Ot.jsx)(ft.a,{className:"p-3 p-md-4 p-lg-5 mt-4 mb-4 bg-color-lightest-grey rounded-3",children:e.authorized?c?Object(Ot.jsx)(Pt,{}):Object(Ot.jsxs)(Ot.Fragment,{children:[Object(Ot.jsxs)(vt.a,{className:"mb-5",children:[Object(Ot.jsx)(Nt.a,{xs:8,md:10,className:"d-flex",children:Object(Ot.jsx)("h1",{className:"d-flex m-auto font-weight-bold",children:"Project"})}),Object(Ot.jsx)(Nt.a,{xs:4,md:2,className:"d-flex",children:Object(Ot.jsx)("img",{src:"/assets/idea.png",alt:"Idea",className:"d-flex m-auto",style:{maxHeight:"100%",maxWidth:"100%"}})})]}),Object(Ot.jsxs)(vt.a,{className:"mt-3",children:[Object(Ot.jsx)(Nt.a,{md:4,children:Object(Ot.jsx)("h3",{children:"PID"})}),Object(Ot.jsx)(Nt.a,{md:8,children:Object(Ot.jsx)("p",{className:"h4 text-black",children:u.id})})]}),Object(Ot.jsxs)(vt.a,{className:"mt-3",children:[Object(Ot.jsx)(Nt.a,{md:4,children:Object(Ot.jsx)("h3",{className:"text-color-main",children:"Title"})}),Object(Ot.jsx)(Nt.a,{md:8,children:Object(Ot.jsx)("p",{className:"h4 text-black",children:u.title})})]}),Object(Ot.jsxs)(vt.a,{className:"mt-3",children:[Object(Ot.jsx)(Nt.a,{md:4,children:Object(Ot.jsx)("h3",{className:"text-color-main",children:"Status"})}),Object(Ot.jsx)(Nt.a,{md:8,children:Object(Ot.jsx)("h3",{children:Object(Ot.jsx)(Zt,{value:u.approved})})})]}),Object(Ot.jsxs)(vt.a,{className:"mt-3",children:[Object(Ot.jsx)(Nt.a,{md:4,children:Object(Ot.jsx)("h3",{className:"text-color-main",children:"Added By"})}),Object(Ot.jsx)(Nt.a,{md:8,children:Object(Ot.jsx)(en,{user:u.addedBy})})]}),Object(Ot.jsxs)(vt.a,{className:"mt-3 ".concat(u.url?u.url:"d-none"),children:[Object(Ot.jsx)(Nt.a,{md:4,children:Object(Ot.jsx)("h3",{className:"text-color-main",children:"URL"})}),Object(Ot.jsx)(Nt.a,{md:8,children:Object(Ot.jsx)("a",{href:u.url,target:"_blank",rel:"noreferrer",children:Object(Ot.jsx)(Et.a,{color:"primary",className:"px-4 rounded-pill",children:"Link"})})})]}),Object(Ot.jsxs)(vt.a,{className:"mt-3",children:[Object(Ot.jsx)(Nt.a,{md:4,children:Object(Ot.jsx)("h3",{className:"text-color-main",children:"Team Members"})}),Object(Ot.jsx)(Nt.a,{md:8,children:Object(Ot.jsx)("p",{className:"h4 text-black",children:u.members&&u.members.length>0?u.members.map((function(e){return Object(Ot.jsx)(en,{user:e})})):Object(Ot.jsx)(Ot.Fragment,{children:"None"})})})]}),Object(Ot.jsxs)(vt.a,{className:"mt-3",children:[Object(Ot.jsx)(Nt.a,{md:4,children:Object(Ot.jsx)("h3",{className:"text-color-main",children:"Mentors"})}),Object(Ot.jsx)(Nt.a,{md:8,children:Object(Ot.jsx)("p",{className:"h4 text-black",children:u.mentors&&u.mentors.length>0?u.mentors.map((function(e){return Object(Ot.jsx)(en,{user:e})})):Object(Ot.jsx)(Ot.Fragment,{children:"None"})})})]}),Object(Ot.jsxs)(vt.a,{className:"mt-3",children:[Object(Ot.jsx)(Nt.a,{md:4,children:Object(Ot.jsx)("h3",{className:"text-color-main",children:"Domain"})}),Object(Ot.jsx)(Nt.a,{md:8,children:Object(Ot.jsx)("p",{className:"h4 text-black",children:u.domain})})]}),Object(Ot.jsxs)(vt.a,{className:"mt-3",children:[Object(Ot.jsx)(Nt.a,{md:4,children:Object(Ot.jsx)("h3",{className:"text-color-main",children:"Field"})}),Object(Ot.jsx)(Nt.a,{md:8,children:Object(Ot.jsx)("p",{className:"h4 text-black",children:u.field})})]}),Object(Ot.jsxs)(vt.a,{className:"mt-3",children:[Object(Ot.jsx)(Nt.a,{md:4,children:Object(Ot.jsx)("h3",{className:"text-color-main",children:"Description"})}),Object(Ot.jsx)(Nt.a,{md:8,children:Object(Ot.jsx)("p",{className:"h4 text-black",children:u.description})})]}),Object(Ot.jsxs)(vt.a,{className:"mt-3",children:[Object(Ot.jsx)(Nt.a,{md:4,children:Object(Ot.jsx)("h3",{className:"text-color-main",children:"Technical"})}),Object(Ot.jsx)(Nt.a,{md:8,children:Object(Ot.jsx)("p",{className:"h4 text-black",children:u.technical?"Yes":"No"})})]}),Object(Ot.jsxs)(vt.a,{className:"mt-3",children:[Object(Ot.jsx)(Nt.a,{md:4,children:Object(Ot.jsx)("h3",{className:"text-color-main",children:"Date Created"})}),Object(Ot.jsx)(Nt.a,{md:8,children:Object(Ot.jsx)("p",{className:"h4 text-black",children:new Date(u.dateCreated).toLocaleString("default",{day:"2-digit",month:"short",year:"numeric"})})})]}),Object(Ot.jsxs)(vt.a,{className:"mt-3",children:[Object(Ot.jsx)(Nt.a,{md:4,children:Object(Ot.jsx)("h3",{className:"text-color-main",children:"Start Date"})}),Object(Ot.jsx)(Nt.a,{md:8,children:Object(Ot.jsx)("p",{className:"h4 text-black",children:new Date(u.startDate).toLocaleString("default",{day:"2-digit",month:"short",year:"numeric"})})})]}),Object(Ot.jsxs)(vt.a,{className:"mt-3",children:[Object(Ot.jsx)(Nt.a,{md:4,children:Object(Ot.jsx)("h3",{className:"text-color-main",children:"End Date"})}),Object(Ot.jsx)(Nt.a,{md:8,children:Object(Ot.jsx)("p",{className:"h4 text-black",children:new Date(u.endDate).toLocaleString("default",{day:"2-digit",month:"short",year:"numeric"})})})]}),Object(Ot.jsxs)(vt.a,{className:"".concat(u.approvedBy?"":"d-none"," mt-3"),children:[Object(Ot.jsx)(Nt.a,{md:4,children:Object(Ot.jsx)("h3",{className:"text-color-main",children:"Approved By"})}),Object(Ot.jsx)(Nt.a,{md:8,children:Object(Ot.jsx)(en,{user:u.approvedBy})})]}),Object(Ot.jsxs)(vt.a,{className:"mt-3",children:[Object(Ot.jsx)(Nt.a,{md:4,children:Object(Ot.jsx)("h3",{className:"text-color-main",children:"Tags"})}),Object(Ot.jsx)(Nt.a,{md:8,children:Object(Ot.jsx)("p",{className:"h4 text-black",children:u.tags&&u.tags.length>0?u.tags.map((function(e){return Object(Ot.jsx)(Ht.a,{color:"info",pill:!0,className:"mr-2 mb-2",children:e.title})})):Object(Ot.jsx)(Ot.Fragment,{children:"None"})})})]}),Object(Ot.jsxs)(vt.a,{className:"mt-3",children:[Object(Ot.jsx)(Nt.a,{md:4,children:Object(Ot.jsx)("h3",{className:"text-color-main",children:"URL"})}),Object(Ot.jsx)(Nt.a,{md:8,children:u.url?Object(Ot.jsx)("a",{href:u.url,target:"_blank",rel:"noreferrer",children:Object(Ot.jsx)(Et.a,{children:"View Proof"})}):Object(Ot.jsx)(Ot.Fragment,{children:Object(Ot.jsx)("p",{className:"h4 text-black",children:"Not Available"})})})]})]}):Object(Ot.jsx)(o.a,{to:"/login"})})})));var Gn=Object(o.h)(Object(l.b)((function(e){return{authorized:e.user.authorized,token:e.user.token,pendingProjects:e.admin.pendingProjects}}),(function(e){return{approveProject:function(t,n,a){return e(dt(t,n,a))},rejectProject:function(t,n,a,c){return e(jt(t,n,a,c))}}}))((function(e){var t=Object(a.useState)(!1),n=Object(me.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(null),o=Object(me.a)(i,2),l=o[0],d=o[1],j=Object(a.useState)(null),h=Object(me.a)(j,2),u=h[0],b=h[1];return e.pendingProjects?Object(Ot.jsxs)(Ot.Fragment,{children:[Object(Ot.jsx)($t,{modalOpen:c,setModalOpen:s,id:l,title:u,onReject:function(t){return e.rejectProject(e.token,l,null,t)}}),Object(Ot.jsxs)(Jt.a,{hover:!0,responsive:!0,className:"rounded-2",children:[Object(Ot.jsx)("thead",{children:Object(Ot.jsxs)("tr",{children:[Object(Ot.jsx)("th",{className:"text-color-main h5",children:"#"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Title"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Description"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Date"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Details"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Approve"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Reject"})]})}),Object(Ot.jsx)("tbody",{children:e.pendingProjects.map((function(t){return Object(Ot.jsxs)("tr",{children:[Object(Ot.jsx)("th",{scope:"row",children:t.id}),Object(Ot.jsx)("td",{children:t.title}),Object(Ot.jsx)("td",{children:t.description}),Object(Ot.jsx)("td",{children:new Date(t.dateCreated).toLocaleString("default",{day:"2-digit",month:"short",year:"numeric"})}),Object(Ot.jsx)("td",{children:Object(Ot.jsx)(r.b,{to:"/project/"+t.id,children:Object(Ot.jsx)(Et.a,{color:"info",children:"View"})})}),Object(Ot.jsx)("td",{children:Object(Ot.jsx)(Et.a,{onClick:function(){return e.approveProject(e.token,t.id,null)},color:"success",className:"w-100",disabled:t.approving||t.rejecting||"approved"===t.approved||"rejected"===t.approved,children:"approved"===t.approved?Object(Ot.jsx)("i",{className:"fa fa-check w-100 text-center","aria-hidden":"true"}):Object(Ot.jsx)(Ot.Fragment,{children:"Approve"})})}),Object(Ot.jsx)("td",{children:Object(Ot.jsx)(Et.a,{disabled:t.approving||t.rejecting||"approved"===t.approved||"rejected"===t.approved,className:"w-100",onClick:function(){s(!0),d(t.id),b(t.title)},color:"danger",children:"rejected"===t.approved?Object(Ot.jsx)("i",{className:"fa fa-check w-100 text-center","aria-hidden":"true"}):Object(Ot.jsx)(Ot.Fragment,{children:"Reject"})})})]})}))})]})]}):Object(Ot.jsx)(Ot.Fragment,{})})));var Bn=Object(o.h)(Object(l.b)((function(e){return{authorized:e.user.authorized,token:e.user.token,pendingProjects:e.admin.pendingProjects,pendingProjectsLoading:e.admin.pendingProjectsLoading,pendingProjectsLoadingError:e.admin.pendingProjectsLoadingError}}),(function(e){return{fetchPendingProjects:function(t){return e(rt(t))}}}))((function(e){return e.authorized?(e.pendingProjectsLoading||e.pendingProjects||e.pendingProjectsLoadingError||e.fetchPendingProjects(e.token),Object(Ot.jsx)(ft.a,{className:"p-3 p-md-4 p-lg-5 mt-4 mb-4 bg-color-lightest-grey rounded-3",children:e.pendingProjectsLoading?Object(Ot.jsx)(Pt,{}):e.pendingProjectsLoadingError?Object(Ot.jsx)(Ct,{message:e.pendingProjectsLoadingError}):Object(Ot.jsxs)(Ot.Fragment,{children:[Object(Ot.jsx)(vt.a,{className:"mb-5",children:Object(Ot.jsx)(Nt.a,{xs:12,children:Object(Ot.jsx)("h2",{className:"font-weight-bold text-center",children:"Pending Projects"})})}),Object(Ot.jsx)(vt.a,{children:Object(Ot.jsx)(Nt.a,{xs:12,children:Object(Ot.jsx)(Gn,{})})})]})})):Object(Ot.jsx)(o.a,{to:"/login"})})));var Un=Object(o.h)(Object(l.b)((function(e){return{authorized:e.user.authorized,token:e.user.token,pendingAchievements:e.admin.pendingAchievements}}),(function(e){return{approveAchievement:function(t,n,a){return e(bt(t,n,a))},rejectAchievement:function(t,n,a,c){return e(mt(t,n,a,c))}}}))((function(e){var t=Object(a.useState)(!1),n=Object(me.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(null),o=Object(me.a)(i,2),l=o[0],d=o[1],j=Object(a.useState)(null),h=Object(me.a)(j,2),u=h[0],b=h[1];return e.pendingAchievements?Object(Ot.jsxs)(Ot.Fragment,{children:[Object(Ot.jsx)($t,{modalOpen:c,setModalOpen:s,id:l,title:u,onReject:function(t){return e.rejectAchievement(e.token,l,null,t)}}),Object(Ot.jsxs)(Jt.a,{hover:!0,responsive:!0,className:"rounded-2",children:[Object(Ot.jsx)("thead",{children:Object(Ot.jsxs)("tr",{children:[Object(Ot.jsx)("th",{className:"text-color-main h5",children:"#"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Title"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Description"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Date"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Details"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Approve"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Reject"})]})}),Object(Ot.jsx)("tbody",{children:e.pendingAchievements.map((function(t){return Object(Ot.jsxs)("tr",{children:[Object(Ot.jsx)("th",{scope:"row",children:t.id}),Object(Ot.jsx)("td",{children:t.title}),Object(Ot.jsx)("td",{children:t.description}),Object(Ot.jsx)("td",{children:new Date(t.achievedDate).toLocaleString("default",{day:"2-digit",month:"short",year:"numeric"})}),Object(Ot.jsx)("td",{children:Object(Ot.jsx)(r.b,{to:"/achievement/"+t.id,children:Object(Ot.jsx)(Et.a,{color:"info",children:"View"})})}),Object(Ot.jsx)("td",{children:Object(Ot.jsx)(Et.a,{onClick:function(){return e.approveAchievement(e.token,t.id,null)},color:"success",className:"w-100",disabled:t.approving||t.rejecting||"approved"===t.approved||"rejected"===t.approved,children:"approved"===t.approved?Object(Ot.jsx)("i",{className:"fa fa-check w-100 text-center","aria-hidden":"true"}):Object(Ot.jsx)(Ot.Fragment,{children:"Approve"})})}),Object(Ot.jsx)("td",{children:Object(Ot.jsx)(Et.a,{disabled:t.approving||t.rejecting||"approved"===t.approved||"rejected"===t.approved,className:"w-100",onClick:function(){s(!0),d(t.id),b(t.title)},color:"danger",children:"rejected"===t.approved?Object(Ot.jsx)("i",{className:"fa fa-check w-100 text-center","aria-hidden":"true"}):Object(Ot.jsx)(Ot.Fragment,{children:"Reject"})})})]})}))})]})]}):Object(Ot.jsx)(Ot.Fragment,{})})));var Vn=Object(o.h)(Object(l.b)((function(e){return{authorized:e.user.authorized,token:e.user.token,pendingAchievements:e.admin.pendingAchievements,pendingAchievementsLoading:e.admin.pendingAchievementsLoading,pendingAchievementsLoadingError:e.admin.pendingAchievementsLoadingError}}),(function(e){return{fetchPendingAchievements:function(t){return e(ot(t))}}}))((function(e){return Object(a.useEffect)((function(){console.log(e),e.pendingAchievementsLoading||e.pendingAchievements||e.pendingAchievementsLoadingError||e.fetchPendingAchievements(e.token)}),[e]),e.authorized?Object(Ot.jsx)(ft.a,{className:"p-3 p-md-4 p-lg-5 mt-4 mb-4 bg-color-lightest-grey rounded-3",children:e.pendingAchievementsLoading?Object(Ot.jsx)(Pt,{}):e.pendingAchievementsLoadingError?Object(Ot.jsx)(Ct,{message:e.pendingAchievementsLoadingError}):Object(Ot.jsxs)(Ot.Fragment,{children:[Object(Ot.jsx)(vt.a,{className:"mb-5",children:Object(Ot.jsx)(Nt.a,{xs:12,children:Object(Ot.jsx)("h2",{className:"font-weight-bold text-center",children:"Pending Achievements"})})}),Object(Ot.jsx)(vt.a,{children:Object(Ot.jsx)(Nt.a,{xs:12,children:Object(Ot.jsx)(Un,{})})})]})}):Object(Ot.jsx)(o.a,{to:"/login"})})));function Jn(e,t,n,a,c){fetch(Ee+"main/api/search?q="+t,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+e}}).then((function(e){if(!e.ok)throw new Error("Unexpected error occurred!");return console.log(e.error),e})).then((function(e){return e.json()})).then((function(e){return console.log(e),n(e.achievements.filter((function(e){return"approved"===e.approved}))),a(!1),e})).catch((function(e){a(!1),c(e.message),console.log(e)}))}function Hn(e){var t=e.achievements;return Object(Ot.jsxs)(Jt.a,{hover:!0,responsive:!0,className:"rounded-2",children:[Object(Ot.jsxs)("thead",{children:[Object(Ot.jsx)("th",{className:"text-color-main h5",children:"#"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Title"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Description"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Added By"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Date Created"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Details"})]}),Object(Ot.jsx)("tbody",{children:t?t.map((function(e){return Object(Ot.jsxs)("tr",{children:[Object(Ot.jsx)("th",{scope:"row",children:e.id}),Object(Ot.jsx)("td",{children:e.title}),Object(Ot.jsx)("td",{children:e.description}),Object(Ot.jsx)("td",{children:e.addedBy?e.addedBy.first_name:""}),Object(Ot.jsx)("td",{children:new Date(e.dateCreated).toLocaleString("default",{day:"2-digit",month:"short",year:"numeric"})}),Object(Ot.jsx)("td",{children:Object(Ot.jsx)(r.b,{to:"/achievement/"+e.id,children:Object(Ot.jsx)(Et.a,{color:"info",children:"View"})})})]})})):Object(Ot.jsx)(Ot.Fragment,{})})]})}var qn=Object(o.h)(Object(l.b)((function(e){return{authorized:e.user.authorized,token:e.user.token}}))((function(e){var t=Object(a.useState)(!1),n=Object(me.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(""),r=Object(me.a)(i,2),l=r[0],d=r[1],j=Object(a.useState)(!1),h=Object(me.a)(j,2),u=h[0],b=h[1],m=Object(a.useState)(""),p=Object(me.a)(m,2),O=p[0],x=p[1];return Object(a.useEffect)((function(){s(!0),Jn(e.token,"",b,s,d)}),[e.token]),e.authorized?l?Object(Ot.jsx)(Ct,{message:l}):Object(Ot.jsxs)(ft.a,{className:"p-3 p-md-4 mt-4 mb-4 bg-color-lightest-grey rounded-3",children:[Object(Ot.jsx)(vt.a,{children:Object(Ot.jsx)(Nt.a,{md:{size:8,offset:2},children:Object(Ot.jsx)(On,{query:O,setQuery:x,onSearch:function(){s(!0),Jn(e.token,O,b,s,d)}})})}),Object(Ot.jsx)(vt.a,{className:"mt-4",children:c?Object(Ot.jsx)(Pt,{}):Object(Ot.jsx)(Hn,{achievements:u})})]}):Object(Ot.jsx)(o.a,{to:"/login"})})));var Wn=function(){return Object(Ot.jsxs)(ft.a,{className:"mt-4 mb-4 bg-color-lightest-grey rounded-3",children:[Object(Ot.jsx)(vt.a,{className:"p-3 p-md-4 ",children:Object(Ot.jsx)(Nt.a,{xs:"12 text-center",children:Object(Ot.jsx)("h2",{className:"font-weight-bold",children:"About IIITD"})})}),Object(Ot.jsx)(vt.a,{children:Object(Ot.jsx)(Nt.a,{className:"px-0",children:Object(Ot.jsx)("img",{src:"/assets/About/administration-bg.jpg",className:"w-100",alt:"IIIT Delhi New Academic Building"})})}),Object(Ot.jsx)(vt.a,{className:"p-3 p-md-4 p-lg-5",children:Object(Ot.jsxs)(Nt.a,{className:"xs-12 text-justify",children:[Object(Ot.jsx)("p",{children:"Indraprastha Institute of Information Technology Delhi (IIIT-Delhi) was created by an act of Delhi legislature empowering it to carry out R and D, conduct educational programs, and grant degrees. The General Council is the apex body of the Institute, chaired by Hon'ble Lt. Governor of Delhi and the Board of Governors is the policy and decision-making body of the Institute. The Senate is empowered to take all academic decisions."}),Object(Ot.jsx)("p",{children:"This is the achievement portal of IIIT Delhi. Submit your achievements / projects here, and build your profile. The admins will approve your achievements / projects."})]})})]})};var Yn=function(e){var t=e.token,n=e.studentId,c=e.institutesList,s=Object(a.useState)({}),i=Object(me.a)(s,2),r=i[0],o=i[1],l=Object(a.useState)(!1),d=Object(me.a)(l,2),j=d[0],h=d[1],u=Object(a.useState)(""),b=Object(me.a)(u,2),m=b[0],p=b[1];return Object(a.useEffect)((function(){h(!0),fetch(Ee+"main/api/student/"+n+"/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+t}}).then((function(e){if(!e.ok)throw new Error("Error while fetching student data!");return e.json()})).then((function(e){o(e),h(!1)})).catch((function(e){console.log(e),p(e.message),h(!1)}))}),[t,n]),Object(Ot.jsxs)(Ot.Fragment,{children:[Object(Ot.jsx)(vt.a,{className:"p-3 p-md-4 ",children:Object(Ot.jsx)(Nt.a,{className:"xs-12 text-center",children:Object(Ot.jsx)("h2",{className:"font-weight-bold",children:"Student Details"})})}),Object(Ot.jsx)(vt.a,{children:Object(Ot.jsx)(Nt.a,{children:j?Object(Ot.jsx)(Pt,{}):m?Object(Ot.jsx)("p",{xs:12,className:"text-danger",children:m}):Object(Ot.jsxs)(Ot.Fragment,{children:[Object(Ot.jsx)(cn,{title:"Roll Number",value:r.rollNo}),Object(Ot.jsx)(cn,{title:"Batch",value:r.batch}),Object(Ot.jsx)(cn,{title:"Major",value:r.major}),Object(Ot.jsx)(cn,{title:"CGPA",value:r.GPA}),Object(Ot.jsxs)(vt.a,{className:"mt-3 mb-3",children:[Object(Ot.jsx)(Nt.a,{md:"4",children:Object(Ot.jsx)("h3",{className:"font-weight-bold",children:"Education"})}),Object(Ot.jsx)(Nt.a,{md:"8",children:r&&r.education?r.education.map((function(e){return Object(Ot.jsx)(tn,{institution:c?c.find((function(t){return t.id===e.institution})).title:"",degree:e.degree,year:e.year})})):Object(Ot.jsx)(Ot.Fragment,{})})]})]})})})]})};var Qn=function(e){var t=e.token,n=e.staffId,c=e.institutesList,s=e.setTitle,i=Object(a.useState)({}),r=Object(me.a)(i,2),o=r[0],l=r[1],d=Object(a.useState)(!1),j=Object(me.a)(d,2),h=j[0],u=j[1],b=Object(a.useState)(""),m=Object(me.a)(b,2),p=m[0],O=m[1];return Object(a.useEffect)((function(){u(!0),fetch(Ee+"main/api/staff/"+n+"/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+t}}).then((function(e){if(!e.ok)throw new Error("Error while fetching staff data!");return e.json()})).then((function(e){l(e),s(e.title),u(!1)})).catch((function(e){console.log(e),O(e.message),u(!1)}))}),[t,n,s]),Object(Ot.jsxs)(Ot.Fragment,{children:[Object(Ot.jsx)(vt.a,{className:"p-3 p-md-4 ",children:Object(Ot.jsx)(Nt.a,{className:"xs-12 text-center",children:Object(Ot.jsx)("h2",{className:"font-weight-bold",children:"Staff Details"})})}),Object(Ot.jsx)(vt.a,{children:Object(Ot.jsx)(Nt.a,{children:h?Object(Ot.jsx)(Pt,{}):p?Object(Ot.jsx)("p",{xs:12,className:"text-danger",children:p}):Object(Ot.jsxs)(Ot.Fragment,{children:[Object(Ot.jsx)(cn,{title:"Employee Id.",value:o.employeeId}),Object(Ot.jsx)(cn,{title:"Date of joining",value:o.associatedSince}),Object(Ot.jsx)(cn,{title:"Deapartment",value:o.department}),Object(Ot.jsx)(cn,{title:"Designation",value:o.designation}),Object(Ot.jsxs)(vt.a,{className:"mt-3 mb-3",children:[Object(Ot.jsx)(Nt.a,{md:"4",children:Object(Ot.jsx)("h3",{className:"font-weight-bold",children:"Education"})}),Object(Ot.jsx)(Nt.a,{md:"8",children:o&&o.education?o.education.map((function(e){return Object(Ot.jsx)(tn,{institution:c?c.find((function(t){return t.id===e.institution})).title:"",degree:e.degree,year:e.year})})):Object(Ot.jsx)(Ot.Fragment,{})})]})]})})})]})},Kn=n(90),Xn=n(419),Zn=n(222),$n=n(218),ea=[{name:"Group A",value:400},{name:"Group B",value:300},{name:"Group C",value:300},{name:"Group D",value:200}],ta=["#0088FE","#00C49F","#FFBB28","#FF8042"],na=function(e){var t=Math.PI/180,n=e.cx,a=e.cy,c=e.midAngle,s=e.innerRadius,i=e.outerRadius,r=e.startAngle,o=e.endAngle,l=e.fill,d=e.payload,j=e.value,h=Math.sin(-t*c),u=Math.cos(-t*c),b=n+(i+10)*u,m=a+(i+10)*h,p=n+(i+30)*u,O=a+(i+30)*h,x=p+22*(u>=0?1:-1),g=O,f=u>=0?"start":"end";return Object(Ot.jsxs)("g",{children:[Object(Ot.jsx)("text",{x:n,y:a,dy:8,textAnchor:"middle",fill:l,children:d.name}),Object(Ot.jsx)(Kn.a,{cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:r,endAngle:o,fill:l}),Object(Ot.jsx)(Kn.a,{cx:n,cy:a,startAngle:r,endAngle:o,innerRadius:i+6,outerRadius:i+10,fill:l}),Object(Ot.jsx)("path",{d:"M".concat(b,",").concat(m,"L").concat(p,",").concat(O,"L").concat(x,",").concat(g),stroke:l,fill:"none"}),Object(Ot.jsx)("circle",{cx:x,cy:g,r:2,fill:l,stroke:"none"}),Object(Ot.jsx)("text",{x:x+12*(u>=0?1:-1),y:g,textAnchor:f,fill:"#333",children:"".concat(j)})]})};var aa=function(e){var t=Object(a.useState)(0),n=Object(me.a)(t,2),c=n[0],s=n[1],i=Object(a.useCallback)((function(e,t){s(t)}),[s]),r=Object(a.useState)(50),o=Object(me.a)(r,2),l=o[0],d=o[1],j=Object(a.useCallback)((function(e){null!==e&&(d(e.getBoundingClientRect().width),console.log("widthhhhhh",e.getBoundingClientRect().width))}),[]),h=l,u=l;return e.data&&(ea=e.data),e.colors&&(ta=e.colors),Object(Ot.jsx)("div",{ref:j,className:"w-100",children:Object(Ot.jsx)(Xn.a,{width:u,height:h,className:"d-flex m-auto",children:Object(Ot.jsx)(Zn.a,{activeIndex:c,activeShape:na,data:ea,cx:u/2,cy:h/2,innerRadius:.22*h,outerRadius:.28*h,dataKey:"value",onMouseEnter:i,children:ea.map((function(e,t){return Object(Ot.jsx)($n.a,{fill:ta[t%ta.length]},"cell-".concat(t))}))})})})};var ca=Object(o.h)(Object(l.b)((function(e){return{authorized:e.user.authorized,token:e.user.token,institutesList:e.forms.institutesList,institutesLoading:e.forms.institutesLoading}}),(function(e){return{fetchInstitutesList:function(t){return e(He(t))}}}))((function(e){var t=Object(a.useState)(!1),n=Object(me.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(""),r=Object(me.a)(i,2),l=r[0],d=r[1],j=Object(a.useState)(null),h=Object(me.a)(j,2),u=h[0],b=h[1],m=Object(a.useState)(""),p=Object(me.a)(m,2),O=p[0],x=p[1],g=Object(o.g)().profileId;Object(a.useEffect)((function(){s(!0),function(e,t,n,a,c){var s="Token "+e;console.log(s),fetch(Ee+"auth/api/profile/"+t,{method:"GET",headers:{"Content-Type":"application/json",Authorization:s}}).then((function(e){if(!e.ok)throw new Error("Profile not found!");return console.log(e.error),e})).then((function(e){return e.json()})).then((function(e){return console.log(e),n(e),a(!1),e})).catch((function(e){a(!1),c(e.message),console.log(e)}))}(e.token,g,b,s,d)}),[g,e.token]),Object(a.useEffect)((function(){e.institutesList||e.institutesLoading||e.fetchInstitutesList(e.token)}),[e]);var f=function(e,t){return e?e.filter((function(e){return e.approved.toLowerCase()===t.toLowerCase()})).length:0};return e.authorized?l?Object(Ot.jsx)(Ct,{message:l}):c||!u?Object(Ot.jsx)(Pt,{}):Object(Ot.jsxs)(ft.a,{className:"p-4 p-md-5 mt-4 mb-4 bg-color-lightest-grey rounded-3",children:[Object(Ot.jsx)(vt.a,{className:"p-3 p-md-4 ",children:Object(Ot.jsx)(Nt.a,{className:"xs-12 text-center",children:Object(Ot.jsx)("h2",{className:"font-weight-bold",children:"User Profile"})})}),Object(Ot.jsxs)(vt.a,{children:[Object(Ot.jsx)(Nt.a,{md:"4",children:Object(Ot.jsx)("img",{src:u.profile_pic&&"."!==u.profile_pic?Ae+u.profile_pic:"/assets/Profile/dp.png",alt:"profile",className:"rounded-circle w-100 p-3"})}),Object(Ot.jsxs)(Nt.a,{md:"8",children:[Object(Ot.jsx)(cn,{title:"Name",value:(O?Kt.find((function(e){return e.id===O})).title+" ":"")+u.name}),Object(Ot.jsx)(cn,{title:"Role",value:["Student","Staff","Admin"][u.designation-1]}),Object(Ot.jsx)(cn,{title:"Date of Birth",value:new Date(u.dob).toLocaleString("default",{day:"2-digit",month:"short",year:"numeric"})}),Object(Ot.jsx)(cn,{title:"Gender",value:["Female","Male","Other"][u.gender-1]}),Object(Ot.jsx)(ln,{instagram:u.instagram,facebook:u.facebook,twitter:u.twitter,github:u.github})]})]}),u.show_email?Object(Ot.jsx)(cn,{title:"Email",value:u.email}):Object(Ot.jsx)(Ot.Fragment,{}),u.show_phone?Object(Ot.jsx)(cn,{title:"Phone",value:u.phone_number}):Object(Ot.jsx)(Ot.Fragment,{}),Object(Ot.jsx)(cn,{title:"Bio",value:u.address}),3!==u.designation?Object(Ot.jsx)(Yn,{token:e.token,studentId:u.user,institutesList:e.institutesList}):Object(Ot.jsx)(Qn,{token:e.token,staffId:u.user,institutesList:e.institutesList,setTitle:x}),Object(Ot.jsx)(cn,{title:"Achievements",value:""}),Object(Ot.jsx)(dn,{achievements:u.achievements}),Object(Ot.jsx)(cn,{title:"Projects",value:""}),Object(Ot.jsx)(jn,{projects:u.projects}),Object(Ot.jsxs)(vt.a,{children:[Object(Ot.jsx)(Nt.a,{className:"".concat(u.projects&&u.projects.length>0?"d-flex":"d-none"),lg:6,children:Object(Ot.jsx)(aa,{data:[{name:"Approved Projects",value:f(u.projects,"approved")},{name:"Pending Projects",value:f(u.projects,"pending")},{name:"Rejected Projects",value:f(u.projects,"rejected")}],colors:["#28a745","#ffc107","#dc3545"]})}),Object(Ot.jsx)(Nt.a,{className:"".concat(u.achievements&&u.achievements.length>0?"d-flex":"d-none"),lg:6,children:Object(Ot.jsx)(aa,{data:[{name:"Approved Achievements",value:f(u.achievements,"approved")},{name:"Pending Achievements",value:f(u.achievements,"pending")},{name:"Rejected Achievements",value:f(u.achievements,"rejected")}],colors:["#28a745","#ffc107","#dc3545"]})})]})]}):Object(Ot.jsx)(o.a,{to:"/login"})})));var sa=Object(o.h)(Object(l.b)((function(e){return{authorized:e.user.authorized,token:e.user.token}}))((function(e){var t=Object(a.useState)(!1),n=Object(me.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(!1),r=Object(me.a)(i,2),l=r[0],d=r[1],j=Object(a.useState)(!1),h=Object(me.a)(j,2),u=h[0],b=h[1],m=Object(o.g)().projectId;return Object(a.useEffect)((function(){c||l||u||(s(!0),Ze(e.token,m,b,s,d))}),[c,l,u,m,e.token]),l?Object(Ot.jsx)(Ct,{}):Object(Ot.jsx)(Ot.Fragment,{children:e.authorized?c?Object(Ot.jsx)(Pt,{}):Object(Ot.jsx)(In,{edit:!0,projectDetails:u}):Object(Ot.jsx)(o.a,{to:"/login"})})})));var ia=Object(o.h)(Object(l.b)((function(e){return{authorized:e.user.authorized,token:e.user.token}}))((function(e){var t=Object(a.useState)(!1),n=Object(me.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(!1),r=Object(me.a)(i,2),l=r[0],d=r[1],j=Object(a.useState)(!1),h=Object(me.a)(j,2),u=h[0],b=h[1],m=Object(o.g)().achievementId;return Object(a.useEffect)((function(){c||l||u||(s(!0),$e(e.token,m,b,s,d))}),[c,l,u,m,e.token]),l?Object(Ot.jsx)(Ct,{}):Object(Ot.jsx)(Ot.Fragment,{children:e.authorized?c?Object(Ot.jsx)(Pt,{}):Object(Ot.jsx)(Tn,{edit:!0,achievementDetails:u}):Object(Ot.jsx)(o.a,{to:"/login"})})})));var ra=Object(o.h)(Object(l.b)((function(e){return{authorized:e.user.authorized,token:e.user.token}}))((function(e){var t=Object(a.useState)(!1),n=Object(me.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(!1),r=Object(me.a)(i,2),o=r[0],l=r[1],d=Object(a.useState)(!1),j=Object(me.a)(d,2),h=j[0],u=j[1],b=Object(a.useState)(""),m=Object(me.a)(b,2),p=m[0],O=m[1],x=Object(a.useState)(""),g=Object(me.a)(x,2),f=g[0],v=g[1],N=Object(a.useState)(""),y=Object(me.a)(N,2),k=y[0],w=y[1],S=Object(a.useState)(""),A=Object(me.a)(S,2),E=A[0],L=A[1],T=Object(a.useState)(!1),P=Object(me.a)(T,2),C=P[0],I=P[1];return Object(Ot.jsxs)(Ot.Fragment,{children:[Object(Ot.jsx)(Et.a,{color:"success",onClick:function(){return s(!0)},children:"Add New Banner"}),Object(Ot.jsxs)(qt.a,{centered:!0,isOpen:c,toggle:function(){return s(!c)},children:[Object(Ot.jsx)(Wt.a,{children:Object(Ot.jsx)("h3",{className:"font-weight-bold",children:"Add New Banner"})}),Object(Ot.jsxs)(Yt.a,{children:[Object(Ot.jsxs)(vt.a,{className:"mb-3",children:[Object(Ot.jsx)(Nt.a,{xs:12,children:Object(Ot.jsx)("h4",{children:"Title"})}),Object(Ot.jsx)(Nt.a,{xs:12,children:Object(Ot.jsx)(Rt.a,{type:"textarea",value:f,onChange:function(e){return v(e.target.value)}})})]}),Object(Ot.jsxs)(vt.a,{className:"mb-3",children:[Object(Ot.jsx)(Nt.a,{xs:12,children:Object(Ot.jsx)("h4",{children:"Description (Upto 50 words)"})}),Object(Ot.jsx)(Nt.a,{xs:12,children:Object(Ot.jsx)(Rt.a,{type:"textarea",value:k,onChange:function(e){return w(e.target.value)}})})]}),Object(Ot.jsxs)(vt.a,{className:"mb-3",children:[Object(Ot.jsx)(Nt.a,{xs:12,children:Object(Ot.jsx)("h4",{children:"Link"})}),Object(Ot.jsx)(Nt.a,{xs:12,children:Object(Ot.jsx)(Rt.a,{type:"text",value:E,onChange:function(e){return L(e.target.value)}})})]}),Object(Ot.jsxs)(vt.a,{className:"mt-3 mb-3",children:[Object(Ot.jsx)(Nt.a,{xs:12,children:Object(Ot.jsx)("h3",{children:"Image (16:9 ratio)"})}),Object(Ot.jsx)(Nt.a,{xs:12,children:Object(Ot.jsx)(An.a,{type:"file",id:"file",onChange:function(e){return I(e.target.files[0])}})})]}),Object(Ot.jsx)(vt.a,{children:Object(Ot.jsx)(Nt.a,{children:Object(Ot.jsx)("p",{className:"".concat(h?"text-danger":"text-success"),children:p})})})]}),Object(Ot.jsx)(Qt.a,{children:Object(Ot.jsx)(Et.a,{color:"success",onClick:function(){return function(e,t,n,a,c,s){a(!0),c(!1),s("");var i=new FormData;for(var r in t)i.append(r,t[r]);fetch(Ee+"main/api/banner/",{method:"POST",headers:{Authorization:"Token "+e},body:i}).then((function(e){if(!e.ok)throw Error("Error occurred while fetching banners!");return e})).then((function(e){return e.json()})).then((function(e){a(!1),s("Banner successfully added!"),n(e)})).catch((function(e){console.log(e),a(!1),c(!0),s(e.message)}))}(e.token,{title:f,description:k,link:E,image:C},e.addBanner,l,u,O)},disabled:o,children:"Add Banner"})})]})]})})));var oa=function(e){var t=e.key,n=e.banners,a=e.deleteBanner;return Object(Ot.jsxs)(Jt.a,{hover:!0,responsive:!0,className:"rounded-2",children:[Object(Ot.jsx)("thead",{children:Object(Ot.jsxs)("tr",{children:[Object(Ot.jsx)("th",{className:"text-color-main h5",children:"#"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Image"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Title"}),Object(Ot.jsx)("th",{className:"text-color-main h5",children:"Delete"})]})}),Object(Ot.jsx)("tbody",{children:n?n.map((function(e){return Object(Ot.jsxs)("tr",{children:[Object(Ot.jsx)("td",{children:e.id}),Object(Ot.jsx)("td",{children:Object(Ot.jsx)("img",{style:{maxWidth:"25vw"},src:e.image,alt:e.Image})}),Object(Ot.jsx)("td",{children:e.title}),Object(Ot.jsx)("td",{children:Object(Ot.jsx)(Et.a,{color:"danger",className:"w-100",disabled:e.deleting,onClick:function(){e.deleting=!0,function(e,t,n){fetch(Ee+"main/api/banner/"+t+"/",{method:"DELETE",headers:{Authorization:"Token "+e}}).then((function(e){if(!e.ok)throw Error("Error!");return e})).then((function(){n()})).catch((function(e){console.log(e.message)}))}(t,e.id,(function(){return a(e)}))},children:"Delete"})})]})})):Object(Ot.jsx)(Ot.Fragment,{})})]})};var la=Object(o.h)(Object(l.b)((function(e){return{authorized:e.user.authorized,token:e.user.token}}))((function(e){var t=Object(a.useState)(!1),n=Object(me.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(!1),r=Object(me.a)(i,2),l=r[0],d=r[1],j=Object(a.useState)([]),h=Object(me.a)(j,2),u=h[0],b=h[1];return Object(a.useEffect)((function(){Pe(e.token,b,s,d)}),[e.token]),l?Object(Ot.jsx)(Ct,{message:l}):Object(Ot.jsx)(ft.a,{className:"p-3 p-md-4 p-lg-5 mt-4 mb-4 bg-color-lightest-grey rounded-3",children:e.authorized?c?Object(Ot.jsx)(Pt,{}):Object(Ot.jsxs)(Ot.Fragment,{children:[Object(Ot.jsx)(vt.a,{className:"mb-5",children:Object(Ot.jsx)(Nt.a,{children:Object(Ot.jsx)("h2",{className:"text-center font-weight-bold",children:"Edit Banners"})})}),Object(Ot.jsx)(vt.a,{className:"mb-4",children:Object(Ot.jsx)(Nt.a,{children:Object(Ot.jsx)(ra,{addBanner:function(e){b([].concat(Object(oe.a)(u),[e]))},deleteBanner:function(e){b(u.filter((function(t){return t.id!==e.id})))}})})}),Object(Ot.jsx)(vt.a,{children:Object(Ot.jsx)(Nt.a,{children:Object(Ot.jsx)(oa,{banners:u})})})]}):Object(Ot.jsx)(o.a,{to:"/login"})})}))),da=Object(d.d)(Object(d.c)({updates:re,user:de,forms:he,admin:be}),Object(d.a)(j.a,u.a));var ja=function(){return Object(Ot.jsx)(l.a,{store:da,children:Object(Ot.jsxs)(r.a,{basename:"/",children:[Object(Ot.jsxs)("div",{className:"App pl-2 pr-2",style:{minHeight:"95vh"},children:[Object(Ot.jsx)(gt,{}),Object(Ot.jsxs)(o.d,{children:[Object(Ot.jsx)(o.b,{path:"/",exact:!0,component:_t}),Object(Ot.jsx)(o.b,{path:"/about",exact:!0,component:Wn}),Object(Ot.jsx)(o.b,{path:"/profile",exact:!0,component:mn}),Object(Ot.jsx)(o.b,{path:"/profile/:profileId",component:ca}),Object(Ot.jsx)(o.b,{path:"/projects",component:fn}),Object(Ot.jsx)(o.b,{path:"/achievements",component:qn}),Object(Ot.jsx)(o.b,{path:"/login",component:kn}),Object(Ot.jsx)(o.b,{path:"/signup",component:wn}),Object(Ot.jsx)(o.b,{path:"/addachievement",component:Tn}),Object(Ot.jsx)(o.b,{path:"/addproject",component:In}),Object(Ot.jsx)(o.b,{path:"/myachievements",component:Mn}),Object(Ot.jsx)(o.b,{path:"/myprojects",component:Fn}),Object(Ot.jsx)(o.b,{path:"/achievement/:achievementId",component:_n}),Object(Ot.jsx)(o.b,{path:"/project/:projectId",component:Rn}),Object(Ot.jsx)(o.b,{path:"/editproject/:projectId",component:sa}),Object(Ot.jsx)(o.b,{path:"/editachievement/:achievementId",component:ia}),Object(Ot.jsx)(o.b,{path:"/pending-projects",component:Bn}),Object(Ot.jsx)(o.b,{path:"/pending-achievements",component:Vn}),Object(Ot.jsx)(o.b,{path:"/banners",component:la})]})]}),Object(Ot.jsx)(yt,{})]})})},ha=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,425)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))};i.a.render(Object(Ot.jsx)(c.a.StrictMode,{children:Object(Ot.jsx)(ja,{})}),document.getElementById("root")),ha()}},[[391,1,2]]]);
//# sourceMappingURL=main.dc012e46.chunk.js.map